/**
 * moOde audio player (C) 2014 Tim Curtis
 * http://moodeaudio.org
 *
 * This Program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3, or (at your option)
 * any later version.
 *
 * This Program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @version        8.1.1
 * @build          Wed, Dec 28, 2022 5:15 PM ET
 *
 */
! function(t) {
	function e() {
		this.regional = [], this.regional[""] = {
			labels: ["Years", "Months", "Weeks", "Days", "Hours", "Minutes", "Seconds"],
			labels1: ["Year", "Month", "Week", "Day", "Hour", "Minute", "Second"],
			compactLabels: ["y", "m", "w", "d"],
			whichLabels: null,
			digits: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"],
			timeSeparator: ":",
			isRTL: !1
		}, this._defaults = {
			until: null,
			since: null,
			timezone: null,
			serverSync: null,
			format: "dHMS",
			layout: "",
			compact: !1,
			significant: 0,
			description: "",
			expiryUrl: "",
			expiryText: "",
			alwaysExpire: !1,
			onExpiry: null,
			onTick: null,
			tickInterval: 1
		}, t.extend(this._defaults, this.regional[""]);
		this._serverSyncs = [];
		var e = "function" == typeof Date.now ? Date.now : function() {
				return (new Date)
					.getTime()
			},
			i = window.performance && "function" == typeof window.performance.now;
		var s = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || null,
			o = 0;
		!s || t.noRequestAnimationFrame ? (t.noRequestAnimationFrame = null, setInterval((function() {
			n._updateTargets()
		}), 980)) : (o = window.animationStartTime || window.webkitAnimationStartTime || window.mozAnimationStartTime || window.oAnimationStartTime || window.msAnimationStartTime || e(), s((function t(a) {
			var r = a < 1e12 ? i ? performance.now() + performance.timing.navigationStart : e() : a || e();
			r - o >= 1e3 && (n._updateTargets(), o = r), setTimeout((function() {
				s(t)
			}), 1e3)
		})))
	}
	t.extend(e.prototype, {
		markerClassName: "hasCountdown",
		propertyName: "countdown",
		_rtlClass: "countdown_rtl",
		_sectionClass: "countdown_section",
		_amountClass: "countdown_amount",
		_rowClass: "countdown_row",
		_holdingClass: "countdown_holding",
		_showClass: "countdown_show",
		_descrClass: "countdown_descr",
		_timerTargets: [],
		setDefaults: function(e) {
			this._resetExtraLabels(this._defaults, e), t.extend(this._defaults, e || {})
		},
		UTCDate: function(t, e, i, s, n, o, a, r) {
			"object" == typeof e && e.constructor == Date && (r = e.getMilliseconds(), a = e.getSeconds(), o = e.getMinutes(), n = e.getHours(), s = e.getDate(), i = e.getMonth(), e = e.getFullYear());
			var l = new Date;
			return l.setUTCFullYear(e), l.setUTCDate(1), l.setUTCMonth(i || 0), l.setUTCDate(s || 1), l.setUTCHours(n || 0), l.setUTCMinutes((o || 0) - (Math.abs(t) < 30 ? 60 * t : t)), l.setUTCSeconds(a || 0), l.setUTCMilliseconds(r || 0), l
		},
		periodsToSeconds: function(t) {
			return 31557600 * t[0] + 2629800 * t[1] + 604800 * t[2] + 86400 * t[3] + 3600 * t[4] + 60 * t[5] + t[6]
		},
		_attachPlugin: function(e, i) {
			if (!(e = t(e))
				.hasClass(this.markerClassName)) {
				var s = {
					options: t.extend({}, this._defaults),
					_periods: [0, 0, 0, 0, 0, 0, 0]
				};
				e.addClass(this.markerClassName)
					.data(this.propertyName, s), this._optionPlugin(e, i)
			}
		},
		_addTarget: function(t) {
			this._hasTarget(t) || this._timerTargets.push(t)
		},
		_hasTarget: function(e) {
			return t.inArray(e, this._timerTargets) > -1
		},
		_removeTarget: function(e) {
			this._timerTargets = t.map(this._timerTargets, (function(t) {
				return t == e ? null : t
			}))
		},
		_updateTargets: function() {
			for (var t = this._timerTargets.length - 1; t >= 0; t--) this._updateCountdown(this._timerTargets[t])
		},
		_optionPlugin: function(e, i, s) {
			var n = (e = t(e))
				.data(this.propertyName);
			if (!i || "string" == typeof i && null == s) {
				var o = i;
				return (i = (n || {})
					.options) && o ? i[o] : i
			}
			if (e.hasClass(this.markerClassName)) {
				if ("string" == typeof(i = i || {})) {
					o = i;
					(i = {})[o] = s
				}
				i.layout && (i.layout = i.layout.replace(/&lt;/g, "<")
					.replace(/&gt;/g, ">")), this._resetExtraLabels(n.options, i);
				var a = n.options.timezone != i.timezone;
				t.extend(n.options, i), this._adjustSettings(e, n, null != i.until || null != i.since || a);
				var r = new Date;
				(n._since && n._since < r || n._until && n._until > r) && this._addTarget(e[0]), this._updateCountdown(e, n)
			}
		},
		_updateCountdown: function(e, i) {
			var s = t(e);
			if (i = i || s.data(this.propertyName)) {
				if (s.html(this._generateHTML(i))
					.toggleClass(this._rtlClass, i.options.isRTL), t.isFunction(i.options.onTick)) {
					var n = "lap" != i._hold ? i._periods : this._calculatePeriods(i, i._show, i.options.significant, new Date);
					1 != i.options.tickInterval && this.periodsToSeconds(n) % i.options.tickInterval != 0 || i.options.onTick.apply(e, [n])
				}
				if ("pause" != i._hold && (i._since ? i._now.getTime() < i._since.getTime() : i._now.getTime() >= i._until.getTime()) && !i._expiring) {
					if (i._expiring = !0, this._hasTarget(e) || i.options.alwaysExpire) {
						if (this._removeTarget(e), t.isFunction(i.options.onExpiry) && i.options.onExpiry.apply(e, []), i.options.expiryText) {
							var o = i.options.layout;
							i.options.layout = i.options.expiryText, this._updateCountdown(e, i), i.options.layout = o
						}
						i.options.expiryUrl && (window.location = i.options.expiryUrl)
					}
					i._expiring = !1
				} else "pause" == i._hold && this._removeTarget(e);
				s.data(this.propertyName, i)
			}
		},
		_resetExtraLabels: function(t, e) {
			var i = !1;
			for (var s in e)
				if ("whichLabels" != s && s.match(/[Ll]abels/)) {
					i = !0;
					break
				} if (i)
				for (var s in t) s.match(/[Ll]abels[02-9]|compactLabels1/) && (t[s] = null)
		},
		_adjustSettings: function(e, i, s) {
			for (var n, o = 0, a = null, r = 0; r < this._serverSyncs.length; r++)
				if (this._serverSyncs[r][0] == i.options.serverSync) {
					a = this._serverSyncs[r][1];
					break
				} if (null != a) o = i.options.serverSync ? a : 0, n = new Date;
			else {
				var l = t.isFunction(i.options.serverSync) ? i.options.serverSync.apply(e, []) : null;
				n = new Date, o = l ? n.getTime() - l.getTime() : 0, this._serverSyncs.push([i.options.serverSync, o])
			}
			var _ = i.options.timezone;
			_ = null == _ ? -n.getTimezoneOffset() : _, (s || !s && null == i._until && null == i._since) && (i._since = i.options.since, null != i._since && (i._since = this.UTCDate(_, this._determineTime(i._since, null)), i._since && o && i._since.setMilliseconds(i._since.getMilliseconds() + o)), i._until = this.UTCDate(_, this._determineTime(i.options.until, n)), o && i._until.setMilliseconds(i._until.getMilliseconds() + o)), i._show = this._determineShow(i)
		},
		_destroyPlugin: function(e) {
			(e = t(e))
			.hasClass(this.markerClassName) && (this._removeTarget(e[0]), e.removeClass(this.markerClassName)
				.empty()
				.removeData(this.propertyName))
		},
		_pausePlugin: function(t) {
			this._hold(t, "pause")
		},
		_lapPlugin: function(t) {
			this._hold(t, "lap")
		},
		_resumePlugin: function(t) {
			this._hold(t, null)
		},
		_hold: function(e, i) {
			var s = t.data(e, this.propertyName);
			if (s) {
				if ("pause" == s._hold && !i) {
					s._periods = s._savePeriods;
					var n = s._since ? "-" : "+";
					s[s._since ? "_since" : "_until"] = this._determineTime(n + s._periods[0] + "y" + n + s._periods[1] + "o" + n + s._periods[2] + "w" + n + s._periods[3] + "d" + n + s._periods[4] + "h" + n + s._periods[5] + "m" + n + s._periods[6] + "s"), this._addTarget(e)
				}
				s._hold = i, s._savePeriods = "pause" == i ? s._periods : null, t.data(e, this.propertyName, s), this._updateCountdown(e, s)
			}
		},
		_getTimesPlugin: function(e) {
			var i = t.data(e, this.propertyName);
			return i ? "pause" == i._hold ? i._savePeriods : i._hold ? this._calculatePeriods(i, i._show, i.options.significant, new Date) : i._periods : null
		},
		_determineTime: function(t, e) {
			var i = null == t ? e : "string" == typeof t ? function(t) {
				t = t.toLowerCase();
				for (var e = new Date, i = e.getFullYear(), s = e.getMonth(), o = e.getDate(), a = e.getHours(), r = e.getMinutes(), l = e.getSeconds(), _ = /([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g, p = _.exec(t); p;) {
					switch (p[2] || "s") {
						case "s":
							l += parseInt(p[1], 10);
							break;
						case "m":
							r += parseInt(p[1], 10);
							break;
						case "h":
							a += parseInt(p[1], 10);
							break;
						case "d":
							o += parseInt(p[1], 10);
							break;
						case "w":
							o += 7 * parseInt(p[1], 10);
							break;
						case "o":
							s += parseInt(p[1], 10), o = Math.min(o, n._getDaysInMonth(i, s));
							break;
						case "y":
							i += parseInt(p[1], 10), o = Math.min(o, n._getDaysInMonth(i, s))
					}
					p = _.exec(t)
				}
				return new Date(i, s, o, a, r, l, 0)
			}(t) : "number" == typeof t ? function(t) {
				var e = new Date;
				return e.setTime(e.getTime() + 1e3 * t), e
			}(t) : t;
			return i && i.setMilliseconds(0), i
		},
		_getDaysInMonth: function(t, e) {
			return 32 - new Date(t, e, 32)
				.getDate()
		},
		_normalLabels: function(t) {
			return t
		},
		_generateHTML: function(e) {
			var i = this;
			e._periods = e._hold ? e._periods : this._calculatePeriods(e, e._show, e.options.significant, new Date);
			for (var s = !1, o = 0, a = e.options.significant, r = t.extend({}, e._show), l = 0; l <= 6; l++) s |= "?" == e._show[l] && e._periods[l] > 0, r[l] = "?" != e._show[l] || s ? e._show[l] : null, o += r[l] ? 1 : 0, a -= e._periods[l] > 0 ? 1 : 0;
			var _ = [!1, !1, !1, !1, !1, !1, !1];
			for (l = 6; l >= 0; l--) e._show[l] && (e._periods[l] ? _[l] = !0 : (_[l] = a > 0, a--));
			var p = e.options.compact ? e.options.compactLabels : e.options.labels,
				u = e.options.whichLabels || this._normalLabels,
				c = function(t) {
					var s = e.options["compactLabels" + u(e._periods[t])];
					return r[t] ? i._translateDigits(e, e._periods[t]) + (s ? s[t] : p[t]) + " " : ""
				},
				h = function(t) {
					var s = e.options["labels" + u(e._periods[t])];
					return !e.options.significant && r[t] || e.options.significant && _[t] ? '<span class="' + n._sectionClass + '"><span class="' + n._amountClass + '">' + i._translateDigits(e, e._periods[t]) + "</span><br/>" + (s ? s[t] : p[t]) + "</span>" : ""
				};
			return e.options.layout ? this._buildLayout(e, r, e.options.layout, e.options.compact, e.options.significant, _) : (e.options.compact ? '<span class="' + this._rowClass + " " + this._amountClass + (e._hold ? " " + this._holdingClass : "") + '">' + c(0) + c(1) + c(2) + c(3) + (r[4] ? this._minDigits(e, e._periods[4], 2) : "") + (r[5] ? (r[4] ? e.options.timeSeparator : "") + this._minDigits(e, e._periods[5], 2) : "") + (r[6] ? (r[4] || r[5] ? e.options.timeSeparator : "") + this._minDigits(e, e._periods[6], 2) : "") : '<span class="' + this._rowClass + " " + this._showClass + (e.options.significant || o) + (e._hold ? " " + this._holdingClass : "") + '">' + h(0) + h(1) + h(2) + h(3) + h(4) + h(5) + h(6)) + "</span>" + (e.options.description ? '<span class="' + this._rowClass + " " + this._descrClass + '">' + e.options.description + "</span>" : "")
		},
		_buildLayout: function(e, i, s, n, o, a) {
			for (var r = e.options[n ? "compactLabels" : "labels"], l = e.options.whichLabels || this._normalLabels, _ = function(t) {
				return (e.options[(n ? "compactLabels" : "labels") + l(e._periods[t])] || r)[t]
			}, p = function(t, i) {
				return e.options.digits[Math.floor(t / i) % 10]
			}, u = {
				desc: e.options.description,
				sep: e.options.timeSeparator,
				yl: _(0),
				yn: this._minDigits(e, e._periods[0], 1),
				ynn: this._minDigits(e, e._periods[0], 2),
				ynnn: this._minDigits(e, e._periods[0], 3),
				y1: p(e._periods[0], 1),
				y10: p(e._periods[0], 10),
				y100: p(e._periods[0], 100),
				y1000: p(e._periods[0], 1e3),
				ol: _(1),
				on: this._minDigits(e, e._periods[1], 1),
				onn: this._minDigits(e, e._periods[1], 2),
				onnn: this._minDigits(e, e._periods[1], 3),
				o1: p(e._periods[1], 1),
				o10: p(e._periods[1], 10),
				o100: p(e._periods[1], 100),
				o1000: p(e._periods[1], 1e3),
				wl: _(2),
				wn: this._minDigits(e, e._periods[2], 1),
				wnn: this._minDigits(e, e._periods[2], 2),
				wnnn: this._minDigits(e, e._periods[2], 3),
				w1: p(e._periods[2], 1),
				w10: p(e._periods[2], 10),
				w100: p(e._periods[2], 100),
				w1000: p(e._periods[2], 1e3),
				dl: _(3),
				dn: this._minDigits(e, e._periods[3], 1),
				dnn: this._minDigits(e, e._periods[3], 2),
				dnnn: this._minDigits(e, e._periods[3], 3),
				d1: p(e._periods[3], 1),
				d10: p(e._periods[3], 10),
				d100: p(e._periods[3], 100),
				d1000: p(e._periods[3], 1e3),
				hl: _(4),
				hn: this._minDigits(e, e._periods[4], 1),
				hnn: this._minDigits(e, e._periods[4], 2),
				hnnn: this._minDigits(e, e._periods[4], 3),
				h1: p(e._periods[4], 1),
				h10: p(e._periods[4], 10),
				h100: p(e._periods[4], 100),
				h1000: p(e._periods[4], 1e3),
				ml: _(5),
				mn: this._minDigits(e, e._periods[5], 1),
				mnn: this._minDigits(e, e._periods[5], 2),
				mnnn: this._minDigits(e, e._periods[5], 3),
				m1: p(e._periods[5], 1),
				m10: p(e._periods[5], 10),
				m100: p(e._periods[5], 100),
				m1000: p(e._periods[5], 1e3),
				sl: _(6),
				sn: this._minDigits(e, e._periods[6], 1),
				snn: this._minDigits(e, e._periods[6], 2),
				snnn: this._minDigits(e, e._periods[6], 3),
				s1: p(e._periods[6], 1),
				s10: p(e._periods[6], 10),
				s100: p(e._periods[6], 100),
				s1000: p(e._periods[6], 1e3)
			}, c = s, h = 0; h <= 6; h++) {
				var d = "yowdhms".charAt(h),
					m = new RegExp("\\{" + d + "<\\}([\\s\\S]*)\\{" + d + ">\\}", "g");
				c = c.replace(m, !o && i[h] || o && a[h] ? "$1" : "")
			}
			return t.each(u, (function(t, e) {
				var i = new RegExp("\\{" + t + "\\}", "g");
				c = c.replace(i, e)
			})), c
		},
		_minDigits: function(t, e, i) {
			return (e = "" + e)
				.length >= i ? this._translateDigits(t, e) : (e = "0000000000" + e, this._translateDigits(t, e.substr(e.length - i)))
		},
		_translateDigits: function(t, e) {
			return ("" + e)
				.replace(/[0-9]/g, (function(e) {
					return t.options.digits[e]
				}))
		},
		_determineShow: function(t) {
			var e = t.options.format,
				i = [];
			return i[0] = e.match("y") ? "?" : e.match("Y") ? "!" : null, i[1] = e.match("o") ? "?" : e.match("O") ? "!" : null, i[2] = e.match("w") ? "?" : e.match("W") ? "!" : null, i[3] = e.match("d") ? "?" : e.match("D") ? "!" : null, i[4] = e.match("h") ? "?" : e.match("H") ? "!" : null, i[5] = e.match("m") ? "?" : e.match("M") ? "!" : null, i[6] = e.match("s") ? "?" : e.match("S") ? "!" : null, i
		},
		_calculatePeriods: function(t, e, i, s) {
			t._now = s, t._now.setMilliseconds(0);
			var o = new Date(t._now.getTime());
			t._since ? s.getTime() < t._since.getTime() ? t._now = s = o : s = t._since : (o.setTime(t._until.getTime()), s.getTime() > t._until.getTime() && (t._now = s = o));
			var a = [0, 0, 0, 0, 0, 0, 0];
			if (e[0] || e[1]) {
				var r = n._getDaysInMonth(s.getFullYear(), s.getMonth()),
					l = n._getDaysInMonth(o.getFullYear(), o.getMonth()),
					_ = o.getDate() == s.getDate() || o.getDate() >= Math.min(r, l) && s.getDate() >= Math.min(r, l),
					p = function(t) {
						return 60 * (60 * t.getHours() + t.getMinutes()) + t.getSeconds()
					},
					u = Math.max(0, 12 * (o.getFullYear() - s.getFullYear()) + o.getMonth() - s.getMonth() + (o.getDate() < s.getDate() && !_ || _ && p(o) < p(s) ? -1 : 0));
				a[0] = e[0] ? Math.floor(u / 12) : 0, a[1] = e[1] ? u - 12 * a[0] : 0;
				var c = (s = new Date(s.getTime()))
					.getDate() == r,
					h = n._getDaysInMonth(s.getFullYear() + a[0], s.getMonth() + a[1]);
				s.getDate() > h && s.setDate(h), s.setFullYear(s.getFullYear() + a[0]), s.setMonth(s.getMonth() + a[1]), c && s.setDate(h)
			}
			var d = Math.floor((o.getTime() - s.getTime()) / 1e3),
				m = function(t, i) {
					a[t] = e[t] ? Math.floor(d / i) : 0, d -= a[t] * i
				};
			if (m(2, 604800), m(3, 86400), m(4, 3600), m(5, 60), m(6, 1), d > 0 && !t._since)
				for (var g = [1, 12, 4.3482, 7, 24, 60, 60], f = 6, w = 1, y = 6; y >= 0; y--) e[y] && (a[f] >= w && (a[f] = 0, d = 1), d > 0 && (a[y]++, d = 0, f = y, w = 1)), w *= g[y];
			if (i)
				for (y = 0; y <= 6; y++) i && a[y] ? i-- : i || (a[y] = 0);
			return a
		}
	});
	var i = ["getTimes"];

	function s(e, s) {
		return "option" == e && (0 == s.length || 1 == s.length && "string" == typeof s[0]) || t.inArray(e, i) > -1
	}
	t.fn.countdown = function(t) {
		var e = Array.prototype.slice.call(arguments, 1);
		return s(t, e) ? n["_" + t + "Plugin"].apply(n, [this[0]].concat(e)) : this.each((function() {
			if ("string" == typeof t) {
				if (!n["_" + t + "Plugin"]) throw "Unknown command: " + t;
				n["_" + t + "Plugin"].apply(n, [this].concat(e))
			} else n._attachPlugin(this, t || {})
		}))
	};
	var n = t.countdown = new e
}(jQuery);


! function(e) {
	var t = e.scrollTo = function(t, n, o) {
		e(window)
			.scrollTo(t, n, o)
	};

	function n(e) {
		return "object" == typeof e ? e : {
			top: e,
			left: e
		}
	}
	t.defaults = {
		axis: "xy",
		duration: parseFloat(e.fn.jquery) >= 1.3 ? 0 : 1,
		limit: !0
	}, t.window = function(t) {
		return e(window)
			._scrollable()
	}, e.fn._scrollable = function() {
		return this.map((function() {
			if (!(!this.nodeName || -1 != e.inArray(this.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]))) return this;
			var t = (this.contentWindow || this)
				.document || this.ownerDocument || this;
			return /webkit/i.test(navigator.userAgent) || "BackCompat" == t.compatMode ? t.body : t.documentElement
		}))
	}, e.fn.scrollTo = function(o, i, r) {
		return "object" == typeof i && (r = i, i = 0), "function" == typeof r && (r = {
				onAfter: r
			}), "max" == o && (o = 9e9), r = e.extend({}, t.defaults, r), i = i || r.duration, r.queue = r.queue && r.axis.length > 1, r.queue && (i /= 2), r.offset = n(r.offset), r.over = n(r.over), this._scrollable()
			.each((function() {
				if (null != o) {
					var s, a = this,
						c = e(a),
						u = o,
						f = {},
						l = c.is("html,body");
					switch (typeof u) {
						case "number":
						case "string":
							if (/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(u)) {
								u = n(u);
								break
							}
							if (!(u = e(u, this))
								.length) return;
						case "object":
							(u.is || u.style) && (s = (u = e(u))
								.offset())
					}
					e.each(r.axis.split(""), (function(e, n) {
						var o = "x" == n ? "Left" : "Top",
							i = o.toLowerCase(),
							m = "scroll" + o,
							h = a[m],
							w = t.max(a, n);
						if (s) f[m] = s[i] + (l ? 0 : h - c.offset()[i]), r.margin && (f[m] -= parseInt(u.css("margin" + o)) || 0, f[m] -= parseInt(u.css("border" + o + "Width")) || 0), f[m] += r.offset[i] || 0, r.over[i] && (f[m] += u["x" == n ? "width" : "height"]() * r.over[i]);
						else {
							var b = u[i];
							f[m] = b.slice && "%" == b.slice(-1) ? parseFloat(b) / 100 * w : b
						}
						r.limit && /^\d+$/.test(f[m]) && (f[m] = f[m] <= 0 ? 0 : Math.min(f[m], w)), !e && r.queue && (h != f[m] && d(r.onAfterFirst), delete f[m])
					})), d(r.onAfter)
				}

				function d(e) {
					c.animate(f, i, r.easing, e && function() {
						e.call(this, o, r)
					})
				}
			}))
			.end()
	}, t.max = function(t, n) {
		var o = "x" == n ? "Width" : "Height",
			i = "scroll" + o;
		if (!e(t)
			.is("html,body")) return t[i] - e(t)[o.toLowerCase()]();
		var r = "client" + o,
			s = t.ownerDocument.documentElement,
			a = t.ownerDocument.body;
		return Math.max(s[i], a[i]) - Math.min(s[r], a[r])
	}
}(jQuery);


! function(e) {
	"function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : "undefined" != typeof module && module.exports ? e(require("jquery")) : e(jQuery)
}((function(e) {
	"use strict";
	var n = "left",
		t = "up",
		i = "ontouchstart" in window,
		r = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled && !i,
		l = (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) && !i;

	function o(n) {
		return !n || void 0 !== n.allowPageScroll || void 0 === n.swipe && void 0 === n.swipeStatus || (n.allowPageScroll = "none"), void 0 !== n.click && void 0 === n.tap && (n.tap = n.click), n || (n = {}), n = e.extend({}, e.fn.swipe.defaults, n), this.each((function() {
			var t = e(this),
				i = t.data("TouchSwipe");
			i || (i = new a(this, n), t.data("TouchSwipe", i))
		}))
	}

	function a(o, a) {
		a = e.extend({}, a);
		var u = i || l || !a.fallbackToMouseEvents,
			c = u ? l ? r ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown",
			s = u ? l ? r ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove",
			p = u ? l ? r ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup",
			h = u ? l ? "mouseleave" : null : "mouseleave",
			d = l ? r ? "MSPointerCancel" : "pointercancel" : "touchcancel",
			f = 0,
			g = null,
			w = null,
			v = 0,
			T = 0,
			b = 0,
			m = 1,
			y = 0,
			E = 0,
			S = null,
			x = e(o),
			O = "start",
			M = 0,
			D = {},
			P = 0,
			L = 0,
			R = 0,
			k = 0,
			A = 0,
			I = null,
			U = null;
		try {
			x.bind(c, j), x.bind(d, _)
		} catch (n) {
			e.error("events not supported " + c + "," + d + " on jQuery.swipe")
		}

		function j(i) {
			if (!0 !== x.data("TouchSwipe_intouch") && !(e(i.target)
				.closest(a.excludedElements, x)
				.length > 0)) {
				var r = i.originalEvent ? i.originalEvent : i;
				if (!r.pointerType || "mouse" != r.pointerType || 0 != a.fallbackToMouseEvents) {
					var l, o, u = r.touches,
						c = u ? u[0] : r;
					return O = "start", u ? M = u.length : !1 !== a.preventDefaultEvents && i.preventDefault(), f = 0, g = null, w = null, E = null, v = 0, T = 0, b = 0, m = 1, y = 0, (o = {})[n] = ue(n), o.right = ue("right"), o.up = ue(t), o.down = ue("down"), S = o, te(), le(0, c), !u || M === a.fingers || "all" === a.fingers || G() ? (P = he(), 2 == M && (le(1, u[1]), T = b = se(D[0].start, D[1].start)), (a.swipeStatus || a.pinchStatus) && (l = F(r, O))) : l = !1, !1 === l ? (F(r, O = "cancel"), l) : (a.hold && (U = setTimeout(e.proxy((function() {
						x.trigger("hold", [r.target]), a.hold && (l = a.hold.call(x, r, r.target))
					}), this), a.longTapThreshold)), re(!0), null)
				}
			}
		}

		function N(i) {
			var r = i.originalEvent ? i.originalEvent : i;
			if ("end" !== O && "cancel" !== O && !ie()) {
				var l, o, u, c, s, p = r.touches,
					h = oe(p ? p[0] : r);
				if (L = he(), p && (M = p.length), a.hold && clearTimeout(U), O = "move", 2 == M && (0 == T ? (le(1, p[1]), T = b = se(D[0].start, D[1].start)) : (oe(p[1]), b = se(D[0].end, D[1].end), D[0].end, D[1].end, E = m < 1 ? "out" : "in"), m = (b / T * 1)
					.toFixed(2), y = Math.abs(T - b)), M === a.fingers || "all" === a.fingers || !p || G()) {
					if (g = pe(h.start, h.end), function(e, i) {
						if (!1 === a.preventDefaultEvents) return;
						if ("none" === a.allowPageScroll) e.preventDefault();
						else {
							var r = "auto" === a.allowPageScroll;
							switch (i) {
								case n:
									(a.swipeLeft && r || !r && "horizontal" != a.allowPageScroll) && e.preventDefault();
									break;
								case "right":
									(a.swipeRight && r || !r && "horizontal" != a.allowPageScroll) && e.preventDefault();
									break;
								case t:
									(a.swipeUp && r || !r && "vertical" != a.allowPageScroll) && e.preventDefault();
									break;
								case "down":
									(a.swipeDown && r || !r && "vertical" != a.allowPageScroll) && e.preventDefault()
							}
						}
					}(i, w = pe(h.last, h.end)), c = h.start, s = h.end, f = Math.round(Math.sqrt(Math.pow(s.x - c.x, 2) + Math.pow(s.y - c.y, 2))), v = ce(), function(e, n) {
						if ("none" == e) return;
						n = Math.max(n, ae(e)), S[e].distance = n
					}(g, f), l = F(r, O), !a.triggerOnTouchEnd || a.triggerOnTouchLeave) {
						var d = !0;
						if (a.triggerOnTouchLeave) {
							var x = {
								left: (u = (o = e(o = this))
										.offset())
									.left,
								right: u.left + o.outerWidth(),
								top: u.top,
								bottom: u.top + o.outerHeight()
							};
							d = function(e, n) {
								return e.x > n.left && e.x < n.right && e.y > n.top && e.y < n.bottom
							}(h.end, x)
						}!a.triggerOnTouchEnd && d ? O = C("move") : a.triggerOnTouchLeave && !d && (O = C("end")), "cancel" != O && "end" != O || F(r, O)
					}
				} else F(r, O = "cancel");
				!1 === l && F(r, O = "cancel")
			}
		}

		function H(e) {
			var n = e.originalEvent ? e.originalEvent : e,
				t = n.touches;
			if (t) {
				if (t.length && !ie()) return function(e) {
					R = he(), k = e.touches.length + 1
				}(n), !0;
				if (t.length && ie()) return !0
			}
			return ie() && (M = k), L = he(), v = ce(), z() || !Y() ? F(n, O = "cancel") : a.triggerOnTouchEnd || !1 === a.triggerOnTouchEnd && "move" === O ? (!1 !== a.preventDefaultEvents && e.preventDefault(), F(n, O = "end")) : !a.triggerOnTouchEnd && $() ? X(n, O = "end", "tap") : "move" === O && F(n, O = "cancel"), re(!1), null
		}

		function _() {
			M = 0, L = 0, P = 0, T = 0, b = 0, m = 1, te(), re(!1)
		}

		function q(e) {
			var n = e.originalEvent ? e.originalEvent : e;
			a.triggerOnTouchLeave && F(n, O = C("end"))
		}

		function Q() {
			x.unbind(c, j), x.unbind(d, _), x.unbind(s, N), x.unbind(p, H), h && x.unbind(h, q), re(!1)
		}

		function C(e) {
			var n = e,
				t = V(),
				i = Y(),
				r = z();
			return !t || r ? n = "cancel" : !i || "move" != e || a.triggerOnTouchEnd && !a.triggerOnTouchLeave ? !i && "end" == e && a.triggerOnTouchLeave && (n = "cancel") : n = "end", n
		}

		function F(e, n) {
			var t, r = e.touches;
			return (Z() && B() || B()) && (t = X(e, n, "swipe")), (W() && G() || G()) && !1 !== t && (t = X(e, n, "pinch")), ne() && ee() && !1 !== t ? t = X(e, n, "doubletap") : v > a.longTapThreshold && f < 10 && a.longTap && !1 !== t ? t = X(e, n, "longtap") : 1 !== M && i || !(isNaN(f) || f < a.threshold) || !$() || !1 === t || (t = X(e, n, "tap")), "cancel" === n && _(), "end" === n && (r && r.length || _()), t
		}

		function X(i, r, l) {
			var o;
			if ("swipe" == l) {
				if (x.trigger("swipeStatus", [r, g || null, f || 0, v || 0, M, D, w]), a.swipeStatus && !1 === (o = a.swipeStatus.call(x, i, r, g || null, f || 0, v || 0, M, D, w))) return !1;
				if ("end" == r && Z()) {
					if (clearTimeout(I), clearTimeout(U), x.trigger("swipe", [g, f, v, M, D, w]), a.swipe && !1 === (o = a.swipe.call(x, i, g, f, v, M, D, w))) return !1;
					switch (g) {
						case n:
							x.trigger("swipeLeft", [g, f, v, M, D, w]), a.swipeLeft && (o = a.swipeLeft.call(x, i, g, f, v, M, D, w));
							break;
						case "right":
							x.trigger("swipeRight", [g, f, v, M, D, w]), a.swipeRight && (o = a.swipeRight.call(x, i, g, f, v, M, D, w));
							break;
						case t:
							x.trigger("swipeUp", [g, f, v, M, D, w]), a.swipeUp && (o = a.swipeUp.call(x, i, g, f, v, M, D, w));
							break;
						case "down":
							x.trigger("swipeDown", [g, f, v, M, D, w]), a.swipeDown && (o = a.swipeDown.call(x, i, g, f, v, M, D, w))
					}
				}
			}
			if ("pinch" == l) {
				if (x.trigger("pinchStatus", [r, E || null, y || 0, v || 0, M, m, D]), a.pinchStatus && !1 === (o = a.pinchStatus.call(x, i, r, E || null, y || 0, v || 0, M, m, D))) return !1;
				if ("end" == r && W()) switch (E) {
					case "in":
						x.trigger("pinchIn", [E || null, y || 0, v || 0, M, m, D]), a.pinchIn && (o = a.pinchIn.call(x, i, E || null, y || 0, v || 0, M, m, D));
						break;
					case "out":
						x.trigger("pinchOut", [E || null, y || 0, v || 0, M, m, D]), a.pinchOut && (o = a.pinchOut.call(x, i, E || null, y || 0, v || 0, M, m, D))
				}
			}
			return "tap" == l ? "cancel" !== r && "end" !== r || (clearTimeout(I), clearTimeout(U), ee() && !ne() ? (A = he(), I = setTimeout(e.proxy((function() {
				A = null, x.trigger("tap", [i.target]), a.tap && (o = a.tap.call(x, i, i.target))
			}), this), a.doubleTapThreshold)) : (A = null, x.trigger("tap", [i.target]), a.tap && (o = a.tap.call(x, i, i.target)))) : "doubletap" == l ? "cancel" !== r && "end" !== r || (clearTimeout(I), clearTimeout(U), A = null, x.trigger("doubletap", [i.target]), a.doubleTap && (o = a.doubleTap.call(x, i, i.target))) : "longtap" == l && ("cancel" !== r && "end" !== r || (clearTimeout(I), A = null, x.trigger("longtap", [i.target]), a.longTap && (o = a.longTap.call(x, i, i.target)))), o
		}

		function Y() {
			var e = !0;
			return null !== a.threshold && (e = f >= a.threshold), e
		}

		function z() {
			var e = !1;
			return null !== a.cancelThreshold && null !== g && (e = ae(g) - f >= a.cancelThreshold), e
		}

		function V() {
			return !a.maxTimeThreshold || !(v >= a.maxTimeThreshold)
		}

		function W() {
			var e = J(),
				n = K(),
				t = null === a.pinchThreshold || y >= a.pinchThreshold;
			return e && n && t
		}

		function G() {
			return !!(a.pinchStatus || a.pinchIn || a.pinchOut)
		}

		function Z() {
			var e = V(),
				n = Y(),
				t = J(),
				i = K();
			return !z() && i && t && n && e
		}

		function B() {
			return !!(a.swipe || a.swipeStatus || a.swipeLeft || a.swipeRight || a.swipeUp || a.swipeDown)
		}

		function J() {
			return M === a.fingers || "all" === a.fingers || !i
		}

		function K() {
			return 0 !== D[0].end.x
		}

		function $() {
			return !!a.tap
		}

		function ee() {
			return !!a.doubleTap
		}

		function ne() {
			if (null == A) return !1;
			var e = he();
			return ee() && e - A <= a.doubleTapThreshold
		}

		function te() {
			R = 0, k = 0
		}

		function ie() {
			var e = !1;
			R && (he() - R <= a.fingerReleaseThreshold && (e = !0));
			return e
		}

		function re(e) {
			x && (!0 === e ? (x.bind(s, N), x.bind(p, H), h && x.bind(h, q)) : (x.unbind(s, N, !1), x.unbind(p, H, !1), h && x.unbind(h, q, !1)), x.data("TouchSwipe_intouch", !0 === e))
		}

		function le(e, n) {
			var t = {
				start: {
					x: 0,
					y: 0
				},
				last: {
					x: 0,
					y: 0
				},
				end: {
					x: 0,
					y: 0
				}
			};
			return t.start.x = t.last.x = t.end.x = n.pageX || n.clientX, t.start.y = t.last.y = t.end.y = n.pageY || n.clientY, D[e] = t, t
		}

		function oe(e) {
			var n = void 0 !== e.identifier ? e.identifier : 0,
				t = function(e) {
					return D[e] || null
				}(n);
			return null === t && (t = le(n, e)), t.last.x = t.end.x, t.last.y = t.end.y, t.end.x = e.pageX || e.clientX, t.end.y = e.pageY || e.clientY, t
		}

		function ae(e) {
			if (S[e]) return S[e].distance
		}

		function ue(e) {
			return {
				direction: e,
				distance: 0
			}
		}

		function ce() {
			return L - P
		}

		function se(e, n) {
			var t = Math.abs(e.x - n.x),
				i = Math.abs(e.y - n.y);
			return Math.round(Math.sqrt(t * t + i * i))
		}

		function pe(e, i) {
			if (l = i, (r = e)
				.x == l.x && r.y == l.y) return "none";
			var r, l, o = function(e, n) {
				var t = e.x - n.x,
					i = n.y - e.y,
					r = Math.atan2(i, t),
					l = Math.round(180 * r / Math.PI);
				return l < 0 && (l = 360 - Math.abs(l)), l
			}(e, i);
			return o <= 45 && o >= 0 || o <= 360 && o >= 315 ? n : o >= 135 && o <= 225 ? "right" : o > 45 && o < 135 ? "down" : t
		}

		function he() {
			return (new Date)
				.getTime()
		}
		this.enable = function() {
			return this.disable(), x.bind(c, j), x.bind(d, _), x
		}, this.disable = function() {
			return Q(), x
		}, this.destroy = function() {
			Q(), x.data("TouchSwipe", null), x = null
		}, this.option = function(n, t) {
			if ("object" == typeof n) a = e.extend(a, n);
			else if (void 0 !== a[n]) {
				if (void 0 === t) return a[n];
				a[n] = t
			} else {
				if (!n) return a;
				e.error("Option " + n + " does not exist on jQuery.swipe.options")
			}
			return null
		}
	}
	e.fn.swipe = function(n) {
		var t = e(this),
			i = t.data("TouchSwipe");
		if (i && "string" == typeof n) {
			if (i[n]) return i[n].apply(i, Array.prototype.slice.call(arguments, 1));
			e.error("Method " + n + " does not exist on jQuery.swipe")
		} else if (i && "object" == typeof n) i.option.apply(i, arguments);
		else if (!(i || "object" != typeof n && n)) return o.apply(this, arguments);
		return t
	}, e.fn.swipe.version = "1.6.18", e.fn.swipe.defaults = {
		fingers: 1,
		threshold: 75,
		cancelThreshold: null,
		pinchThreshold: 20,
		maxTimeThreshold: null,
		fingerReleaseThreshold: 250,
		longTapThreshold: 500,
		doubleTapThreshold: 200,
		swipe: null,
		swipeLeft: null,
		swipeRight: null,
		swipeUp: null,
		swipeDown: null,
		swipeStatus: null,
		pinchIn: null,
		pinchOut: null,
		pinchStatus: null,
		click: null,
		tap: null,
		doubleTap: null,
		longTap: null,
		hold: null,
		triggerOnTouchEnd: !0,
		triggerOnTouchLeave: !1,
		allowPageScroll: "auto",
		fallbackToMouseEvents: !0,
		excludedElements: ".noSwipe",
		preventDefaultEvents: !0
	}, e.fn.swipe.phases = {
		PHASE_START: "start",
		PHASE_MOVE: "move",
		PHASE_END: "end",
		PHASE_CANCEL: "cancel"
	}, e.fn.swipe.directions = {
		LEFT: n,
		RIGHT: "right",
		UP: t,
		DOWN: "down",
		IN: "in",
		OUT: "out"
	}, e.fn.swipe.pageScroll = {
		NONE: "none",
		HORIZONTAL: "horizontal",
		VERTICAL: "vertical",
		AUTO: "auto"
	}, e.fn.swipe.fingers = {
		ONE: 1,
		TWO: 2,
		THREE: 3,
		FOUR: 4,
		FIVE: 5,
		ALL: "all"
	}
}));


! function(e, t, o, i) {
	var n = e(t);
	e.fn.lazyload = function(o) {
		var i, r = this,
			f = {
				threshold: 200,
				failure_limit: 0,
				event: "scroll.lazyload",
				effect: "show",
				container: t,
				data_attribute: "original",
				data_srcset: "srcset",
				skip_invisible: !1,
				appear: null,
				load: null,
				placeholder: null
			};

		function l() {
			var t = 0;
			r.each((function() {
				var o = e(this);
				if (!f.skip_invisible || o.is(":visible"))
					if (e.abovethetop(this, f) || e.leftofbegin(this, f));
					else if (e.belowthefold(this, f) || e.rightoffold(this, f)) {
					if (++t > f.failure_limit) return !1
				} else o.trigger("appear"), t = 0
			}))
		}
		return o && (void 0 !== o.failurelimit && (o.failure_limit = o.failurelimit, delete o.failurelimit), void 0 !== o.effectspeed && (o.effect_speed = o.effectspeed, delete o.effectspeed), e.extend(f, o)), i = void 0 === f.container || f.container === t ? n : e(f.container), 0 === f.event.indexOf("scroll") && i.off(f.event)
			.on(f.event, (function() {
				return l()
			})), this.each((function() {
				var t = this,
					o = e(t);
				t.loaded = !1, void 0 !== o.attr("src") && !1 !== o.attr("src") || o.is("img") && o.attr("src", f.placeholder), o.one("appear", (function() {
						if (!this.loaded) {
							if (f.appear) {
								var i = r.length;
								f.appear.call(t, i, f)
							}
							e("<img />")
								.one("error", (function() {
									o.attr("src", "images/default-cover-v6.svg")
								}))
								.one("load", (function() {
									var i = o.attr("data-" + f.data_attribute);
									i != o.attr("src") && (o.hide(), o.is("img") && o.attr("src", i), o[f.effect](f.effect_speed)), t.loaded = !0;
									var n = e.grep(r, (function(e) {
										return !e.loaded
									}));
									if (r = e(n), f.load) {
										var l = r.length;
										f.load.call(t, l, f)
									}
								}))
								.attr({
									src: o.attr("data-" + f.data_attribute),
									srcset: o.attr("data-" + f.data_srcset) || ""
								})
						}
					})), 0 !== f.event.indexOf("scroll") && o.off(f.event)
					.on(f.event, (function() {
						t.loaded || o.trigger("appear")
					}))
			})), n.off("resize.lazyload")
			.bind("resize.lazyload", (function() {
				l()
			})), /(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion) && n.on("pageshow", (function(t) {
				t.originalEvent && t.originalEvent.persisted && r.each((function() {
					e(this)
						.trigger("appear")
				}))
			})), e((function() {
				l()
			})), this
	}, e.belowthefold = function(o, i) {
		return (void 0 === i.container || i.container === t ? (t.innerHeight ? t.innerHeight : n.height()) + n.scrollTop() : e(i.container)
				.offset()
				.top + e(i.container)
				.height()) <= e(o)
			.offset()
			.top - i.threshold
	}, e.rightoffold = function(o, i) {
		return (void 0 === i.container || i.container === t ? n.width() + n.scrollLeft() : e(i.container)
				.offset()
				.left + e(i.container)
				.width()) <= e(o)
			.offset()
			.left - i.threshold
	}, e.abovethetop = function(o, i) {
		return (void 0 === i.container || i.container === t ? n.scrollTop() : e(i.container)
				.offset()
				.top) >= e(o)
			.offset()
			.top + i.threshold + e(o)
			.height()
	}, e.leftofbegin = function(o, i) {
		return (void 0 === i.container || i.container === t ? n.scrollLeft() : e(i.container)
				.offset()
				.left) >= e(o)
			.offset()
			.left + i.threshold + e(o)
			.width()
	}, e.inviewport = function(t, o) {
		return !(e.rightoffold(t, o) || e.leftofbegin(t, o) || e.belowthefold(t, o) || e.abovethetop(t, o))
	}, e.extend(e.expr[":"], {
		"below-the-fold": function(t) {
			return e.belowthefold(t, {
				threshold: 0
			})
		},
		"above-the-top": function(t) {
			return !e.belowthefold(t, {
				threshold: 0
			})
		},
		"right-of-screen": function(t) {
			return e.rightoffold(t, {
				threshold: 0
			})
		},
		"left-of-screen": function(t) {
			return !e.rightoffold(t, {
				threshold: 0
			})
		},
		"in-viewport": function(t) {
			return e.inviewport(t, {
				threshold: 0
			})
		},
		"above-the-fold": function(t) {
			return !e.belowthefold(t, {
				threshold: 0
			})
		},
		"right-of-fold": function(t) {
			return e.rightoffold(t, {
				threshold: 0
			})
		},
		"left-of-fold": function(t) {
			return !e.rightoffold(t, {
				threshold: 0
			})
		}
	})
}(jQuery, window, document);


! function(n) {
	"use strict";

	function t(n, t) {
		var r = (65535 & n) + (65535 & t);
		return (n >> 16) + (t >> 16) + (r >> 16) << 16 | 65535 & r
	}

	function r(n, r, e, u, o, c) {
		return t((f = t(t(r, n), t(u, c))) << (i = o) | f >>> 32 - i, e);
		var f, i
	}

	function e(n, t, e, u, o, c, f) {
		return r(t & e | ~t & u, n, t, o, c, f)
	}

	function u(n, t, e, u, o, c, f) {
		return r(t & u | e & ~u, n, t, o, c, f)
	}

	function o(n, t, e, u, o, c, f) {
		return r(t ^ e ^ u, n, t, o, c, f)
	}

	function c(n, t, e, u, o, c, f) {
		return r(e ^ (t | ~u), n, t, o, c, f)
	}

	function f(n, r) {
		n[r >> 5] |= 128 << r % 32, n[14 + (r + 64 >>> 9 << 4)] = r;
		var f, i, a, h, g, l = 1732584193,
			d = -271733879,
			v = -1732584194,
			C = 271733878;
		for (f = 0; f < n.length; f += 16) i = l, a = d, h = v, g = C, l = e(l, d, v, C, n[f], 7, -680876936), C = e(C, l, d, v, n[f + 1], 12, -389564586), v = e(v, C, l, d, n[f + 2], 17, 606105819), d = e(d, v, C, l, n[f + 3], 22, -1044525330), l = e(l, d, v, C, n[f + 4], 7, -176418897), C = e(C, l, d, v, n[f + 5], 12, 1200080426), v = e(v, C, l, d, n[f + 6], 17, -1473231341), d = e(d, v, C, l, n[f + 7], 22, -45705983), l = e(l, d, v, C, n[f + 8], 7, 1770035416), C = e(C, l, d, v, n[f + 9], 12, -1958414417), v = e(v, C, l, d, n[f + 10], 17, -42063), d = e(d, v, C, l, n[f + 11], 22, -1990404162), l = e(l, d, v, C, n[f + 12], 7, 1804603682), C = e(C, l, d, v, n[f + 13], 12, -40341101), v = e(v, C, l, d, n[f + 14], 17, -1502002290), l = u(l, d = e(d, v, C, l, n[f + 15], 22, 1236535329), v, C, n[f + 1], 5, -165796510), C = u(C, l, d, v, n[f + 6], 9, -1069501632), v = u(v, C, l, d, n[f + 11], 14, 643717713), d = u(d, v, C, l, n[f], 20, -373897302), l = u(l, d, v, C, n[f + 5], 5, -701558691), C = u(C, l, d, v, n[f + 10], 9, 38016083), v = u(v, C, l, d, n[f + 15], 14, -660478335), d = u(d, v, C, l, n[f + 4], 20, -405537848), l = u(l, d, v, C, n[f + 9], 5, 568446438), C = u(C, l, d, v, n[f + 14], 9, -1019803690), v = u(v, C, l, d, n[f + 3], 14, -187363961), d = u(d, v, C, l, n[f + 8], 20, 1163531501), l = u(l, d, v, C, n[f + 13], 5, -1444681467), C = u(C, l, d, v, n[f + 2], 9, -51403784), v = u(v, C, l, d, n[f + 7], 14, 1735328473), l = o(l, d = u(d, v, C, l, n[f + 12], 20, -1926607734), v, C, n[f + 5], 4, -378558), C = o(C, l, d, v, n[f + 8], 11, -2022574463), v = o(v, C, l, d, n[f + 11], 16, 1839030562), d = o(d, v, C, l, n[f + 14], 23, -35309556), l = o(l, d, v, C, n[f + 1], 4, -1530992060), C = o(C, l, d, v, n[f + 4], 11, 1272893353), v = o(v, C, l, d, n[f + 7], 16, -155497632), d = o(d, v, C, l, n[f + 10], 23, -1094730640), l = o(l, d, v, C, n[f + 13], 4, 681279174), C = o(C, l, d, v, n[f], 11, -358537222), v = o(v, C, l, d, n[f + 3], 16, -722521979), d = o(d, v, C, l, n[f + 6], 23, 76029189), l = o(l, d, v, C, n[f + 9], 4, -640364487), C = o(C, l, d, v, n[f + 12], 11, -421815835), v = o(v, C, l, d, n[f + 15], 16, 530742520), l = c(l, d = o(d, v, C, l, n[f + 2], 23, -995338651), v, C, n[f], 6, -198630844), C = c(C, l, d, v, n[f + 7], 10, 1126891415), v = c(v, C, l, d, n[f + 14], 15, -1416354905), d = c(d, v, C, l, n[f + 5], 21, -57434055), l = c(l, d, v, C, n[f + 12], 6, 1700485571), C = c(C, l, d, v, n[f + 3], 10, -1894986606), v = c(v, C, l, d, n[f + 10], 15, -1051523), d = c(d, v, C, l, n[f + 1], 21, -2054922799), l = c(l, d, v, C, n[f + 8], 6, 1873313359), C = c(C, l, d, v, n[f + 15], 10, -30611744), v = c(v, C, l, d, n[f + 6], 15, -1560198380), d = c(d, v, C, l, n[f + 13], 21, 1309151649), l = c(l, d, v, C, n[f + 4], 6, -145523070), C = c(C, l, d, v, n[f + 11], 10, -1120210379), v = c(v, C, l, d, n[f + 2], 15, 718787259), d = c(d, v, C, l, n[f + 9], 21, -343485551), l = t(l, i), d = t(d, a), v = t(v, h), C = t(C, g);
		return [l, d, v, C]
	}

	function i(n) {
		var t, r = "";
		for (t = 0; t < 32 * n.length; t += 8) r += String.fromCharCode(n[t >> 5] >>> t % 32 & 255);
		return r
	}

	function a(n) {
		var t, r = [];
		for (r[(n.length >> 2) - 1] = void 0, t = 0; t < r.length; t += 1) r[t] = 0;
		for (t = 0; t < 8 * n.length; t += 8) r[t >> 5] |= (255 & n.charCodeAt(t / 8)) << t % 32;
		return r
	}

	function h(n) {
		var t, r, e = "";
		for (r = 0; r < n.length; r += 1) t = n.charCodeAt(r), e += "0123456789abcdef".charAt(t >>> 4 & 15) + "0123456789abcdef".charAt(15 & t);
		return e
	}

	function g(n) {
		return unescape(encodeURIComponent(n))
	}

	function l(n) {
		return function(n) {
			return i(f(a(n), 8 * n.length))
		}(g(n))
	}

	function d(n, t) {
		return function(n, t) {
			var r, e, u = a(n),
				o = [],
				c = [];
			for (o[15] = c[15] = void 0, u.length > 16 && (u = f(u, 8 * n.length)), r = 0; r < 16; r += 1) o[r] = 909522486 ^ u[r], c[r] = 1549556828 ^ u[r];
			return e = f(o.concat(a(t)), 512 + 8 * t.length), i(f(c.concat(e), 640))
		}(g(n), g(t))
	}
	n.md5 = function(n, t, r) {
		return t ? r ? d(t, n) : h(d(t, n)) : r ? l(n) : h(l(n))
	}
}("function" == typeof jQuery ? jQuery : this);


! function(a) {
	var r = {
		selector: "[data-adaptive-background]",
		parent: "#playback-panel",
		exclude: ["rgb(0,0,0)", "rgb(255,255,255)"],
		shadeVariation: "blend",
		shadePercentage: .15,
		shadeColors: {
			light: "rgb(128,128,128)",
			dark: "rgb(224,224,224)"
		},
		normalizeTextColor: !0,
		normalizedTextColors: {
			light: "#eee",
			dark: "#333"
		},
		lumaClasses: {
			light: "ab-light",
			dark: "ab-dark"
		},
		transparent: null
	};

	function e(a, r) {
		var e = a.split(","),
			t = r < 0 ? 0 : 255,
			n = r < 0 ? -1 * r : r,
			o = parseInt(e[0].slice(4)),
			c = parseInt(e[1]),
			s = parseInt(e[2]);
		return "rgb(" + (Math.round((t - o) * n) + o) + "," + (Math.round((t - c) * n) + c) + "," + (Math.round((t - s) * n) + s) + ")"
	}

	function t(a, r, e) {
		var t = a.split(","),
			n = r.split(","),
			o = parseInt(t[0].slice(4)),
			c = parseInt(t[1]),
			s = parseInt(t[2]);
		return "rgb(" + (Math.round((parseInt(n[0].slice(4)) - o) * e) + o) + "," + (Math.round((parseInt(n[1]) - c) * e) + c) + "," + (Math.round((parseInt(n[2]) - s) * e) + s) + ")"
	}! function(a, r) {
		"use strict";
		var e = function(a, r) {
				var e = new Image,
					t = a.src || a;
				"data:" !== t.substring(0, 5) && (e.crossOrigin = "Anonymous"), e.onerror = function() {
					adaptMcolor = themeMcolor, adaptMback = themeMback, adaptColor = themeColor, adaptBack = themeBack
				}, e.onload = function() {
					var a = document.createElement("canvas")
						.getContext("2d");
					a.drawImage(e, 0, 0);
					var t = a.getImageData(0, 0, e.width, e.height);
					r && r(t.data)
				}, e.src = t
			},
			t = function(a) {
				return ["rgb(", a, ")"].join("")
			},
			n = {};
		n.colors = function(a, r) {
			var n = (r = r || {})
				.exclude || [],
				o = r.paletteSize || 10;
			e(a, (function(e) {
				for (var c = a.width * a.height || e.length, s = {}, l = "", i = [], d = {
					dominant: {
						name: "",
						count: 0
					},
					palette: Array.apply(null, new Array(o))
						.map(Boolean)
						.map((function() {
							return {
								name: "0,0,0",
								count: 0
							}
						}))
				}, u = 0; c > u;) {
					if (i[0] = e[u], i[1] = e[u + 1], i[2] = e[u + 2], s[l = i.join(",")] = l in s ? s[l] + 1 : 1, -1 === n.indexOf(t(l))) {
						var p = s[l];
						p > d.dominant.count ? (d.dominant.name = l, d.dominant.count = p) : d.palette.some((function(a) {
							return p > a.count ? (a.name = l, a.count = p, !0) : void 0
						}))
					}
					u += 20
				}
				if (r.success) {
					var g = function(a) {
						return a.map((function(a) {
							return t(a.name)
						}))
					}(d.palette);
					"rgb(0,0,0)" == g[1] && (g[0] = t(d.dominant.name)), "rgb(255,255,255)" == g[0] && (g[0] = g[1]);
					var b = rgbToHsl(g[0]),
						m = rgbToHsl(g[1]),
						h = rgbToHsl(t(d.dominant.name)),
						f = 0,
						v = 0;
					b[2] > m[2] ? (f = 0, v = 1) : (f = 1, v = 0), h[2] + .2 > b[2] && h[2] < ".98" && (g[0] = t(d.dominant.name), f = 0, v = 1), "rgb(255,255,255)" == t(d.dominant.name) && "rgb(0,0,0)" == g[1] && (g[0] = t(d.dominant.name), f = 0, v = 1), h[2] > .98 && (f = 0, v = 1), r.success({
						dominant: g[f],
						secondary: g[v],
						palette: g
					})
				}
			}))
		}, a.RGBaster = a.RGBaster || n
	}(window), a.adaptiveBackground = {
		run: function(n) {
			var o = a.extend({}, r, n);
			abfound = "false", a(o.selector)
				.each((function(r, n) {
					var c = a(this),
						s = function(a) {
							var r = a.match(/\d+/g);
							return parseInt((299 * r[0] + 587 * r[1] + 114 * r[2]) / 1e3)
						},
						l = function() {
							var a = c.attr("data-ab-css-background");
							return void 0 !== a && !1 !== a
						},
						i = function() {
							var a = c.css("background-image");
							return /\(([^)]+)\)/.exec(a)[1].replace(/"/g, "")
						};
					c.on("ab-color-found", (function(r, n) {
							var i, d;
							if (i = o.parent && c.parents(o.parent)
								.length ? c.parents(o.parent) : c.attr("data-ab-parent") && c.parents(c.attr("data-ab-parent"))
								.length ? c.parents(c.attr("data-ab-parent")) : l() ? c : o.parent ? c.parents(o.parent) : c.parent(), o.shadeVariation && (n.color = ("rgb()" != (d = n.color) && "rgb(,,)" != d || (d = "rgb(0,0,0)"), 1 == o.shadeVariation ? s(d) <= 128 ? e(d, o.shadePercentage) : e(d, -o.shadePercentage, o.shadePercentage) : "blend" == o.shadeVariation ? s(d) >= 128 ? t(d, o.shadeColors.dark, o.shadePercentage) : t(d, o.shadeColors.light, o.shadePercentage) : void 0)), a.isNumeric(o.transparent) && null != o.transparent && o.transparent >= .01 && o.transparent <= .99) {
								var u = n.color.replace("rgb", "rgba")
									.replace(")", ", " + o.transparent + ")");
								i.css({
									backgroundColor: u
								})
							}
							var p = rgbToHsl(n.color),
								g = p[2],
								b = n.color;
							g < .1 ? p[2] = g + .03 : g < .45 && g > .35 && (p[2] = g - .05);
							var m = hslToRgb(p),
								h = (b = "rgba(", "rgba(");
							abFound = "true", b = b.concat(m[0], ",", m[1], ",", m[2], "," + SESSION.json.alphablend + ")"), h = h.concat(m[0], ",", m[1], ",", m[2], "," + themeOp + ")"), n.color = b, adaptBack = b;
							m = hslToRgb(p);
							var f = "rgba(";
							f = f.concat(m[0], ",", m[1], ",", m[2], ",", themeOp, ")"), adaptMback = f, adaptMhalf = "rgba(".concat(m[0], ",", m[1], ",", m[2], ",0.5)");
							o.normalizeTextColor && (adaptMcolor = function(a) {
								return s(a) >= 128 ? o.normalizedTextColors.dark : o.normalizedTextColors.light
							}(n.color), adaptColor = adaptMcolor, "Yes" == SESSION.json.adaptive && setColors()), o.success && o.success(c, n)
						})),
						function() {
							if ("PICTURE" == c[0].tagName) {
								var a = c[0].children;
								for (var r in a)
									if ("IMG" == a[r].tagName) {
										var e = a[r];
										break
									} e.currentSrc && (e = e.currentSrc)
							} else e = l() ? i() : c[0];
							RGBaster.colors(e, {
								paletteSize: 20,
								exclude: o.exclude,
								success: function(a) {
									c.attr("data-ab-color", a.dominant), c.trigger("ab-color-found", {
										color: a.dominant,
										palette: a.palette
									})
								}
							})
						}()
				}))
		}
	}
}(jQuery);


! function(t) {
	"use strict";
	var i = {},
		s = Math.max,
		h = Math.min;
	i.c = {}, i.c.d = t(document), i.c.t = function(t) {
		return t.originalEvent.touches.length - 1
	}, i.o = function() {
		var s = this;
		this.po = 2, this.bloom = !0, this.o = null, this.$ = null, this.i = null, this.g = null, this.v = null, this.cv = null, this.x = 0, this.y = 0, this.w = 0, this.h = 0, this.$c = null, this.c = null, this.t = 0, this.isInit = !1, this.fgColor = null, this.pColor = null, this.dH = null, this.cH = null, this.eH = null, this.rH = null, this.scale = 1, this.relative = !0, this.relativeWidth = !0, this.relativeHeight = !0, this.$div = null, this.run = function() {
			var i = function(t, i) {
				var h;
				for (h in i) s.o[h] = i[h];
				s.init(), s._configure()
					._draw()
			};
			if (!this.$.data("kontroled")) {
				if (this.$.data("kontroled", !0), this.extend(), this.o = t.extend({
					min: this.$.data("min") || 0,
					max: this.$.data("max") || 100,
					stopper: !0,
					readOnly: this.$.data("readonly"),
					cursor: (!0 === this.$.data("cursor") ? 30 : this.$.data("cursor")) || 0,
					thickness: this.$.data("thickness") || .35,
					lineCap: this.$.data("linecap") || "round",
					width: this.$.data("width") || 200,
					height: this.$.data("height") || 200,
					displayInput: null == this.$.data("displayinput") || this.$.data("displayinput"),
					displayPrevious: this.$.data("displayprevious"),
					fgColor: this.$.data("fgcolor") || "#27ae60",
					inputColor: this.$.data("inputcolor") || this.$.data("fgcolor") || "#4BBE87",
					font: this.$.data("font") || "Arial",
					fontWeight: this.$.data("font-weight") || "bold",
					inline: !1,
					step: this.$.data("step") || 1,
					draw: null,
					change: null,
					cancel: null,
					release: null,
					error: null
				}, this.o), this.$.is("fieldset") ? (this.v = {}, this.i = this.$.find("input"), this.i.each((function(i) {
						var h = t(this);
						s.i[i] = h, s.v[i] = h.val(), h.bind("change", (function() {
							var t = {};
							t[i] = h.val(), s.val(t)
						}))
					})), this.$.find("legend")
					.remove()) : (this.i = this.$, this.v = this.$.val(), "" == this.v && (this.v = this.o.min), this.$.bind("change", (function() {
					s.val(s._validate(s.$.val()))
				}))), !this.o.displayInput && this.$.hide(), this.$c = t(document.createElement("canvas")), "undefined" != typeof G_vmlCanvasManager && G_vmlCanvasManager.initElement(this.$c[0]), this.c = this.$c[0].getContext ? this.$c[0].getContext("2d") : null, this.c) return this.scale = (window.devicePixelRatio || 1) / (this.c.webkitBackingStorePixelRatio || this.c.mozBackingStorePixelRatio || this.c.msBackingStorePixelRatio || this.c.oBackingStorePixelRatio || this.c.backingStorePixelRatio || 1), this.relativeWidth = this.o.width % 1 != 0 && this.o.width.indexOf("%"), this.relativeHeight = this.o.height % 1 != 0 && this.o.height.indexOf("%"), this.relative = this.relativeWidth || this.relativeHeight, this.$div = t('<div style="' + (this.o.inline ? "display:inline-block;" : "") + '"></div>'), this.$.wrap(this.$div)
					.before(this.$c), this.$div = this.$.parent(), this._carve(), this.v instanceof Object ? (this.cv = {}, this.copy(this.v, this.cv)) : this.cv = this.v, this.$.bind("configure", i)
					.parent()
					.bind("configure", i), this._listen()
					._configure()
					._xy()
					.init(), this.isInit = !0, this._draw(), this;
				this.o.error && this.o.error()
			}
		}, this._carve = function() {
			if (this.relative) {
				var t = this.relativeWidth ? this.$div.parent()
					.width() * parseInt(this.o.width) / 100 : this.$div.parent()
					.width(),
					i = this.relativeHeight ? this.$div.parent()
					.height() * parseInt(this.o.height) / 100 : this.$div.parent()
					.height();
				this.w = this.h = Math.min(t, i)
			} else this.w = this.o.width + this.po, this.h = this.o.height + this.po;
			return this.$div.css({
				width: this.w + "px",
				height: this.h + "px"
			}), this.$c.attr({
				width: this.w + this.po,
				height: this.h + this.po
			}), 1 !== this.scale && (this.$c[0].width = this.$c[0].width * this.scale, this.$c[0].height = this.$c[0].height * this.scale, this.$c.width(this.w), this.$c.height(this.h)), this
		}, this._draw = function() {
			var t = !0;
			s.g = s.c, s.clear(), s.dH && (t = s.dH()), !1 !== t && s.draw()
		}, this._touch = function(t) {
			if (s.$div.parent()
				.hasClass("volume-step-limiter") && "none" == SESSION.json.mpdmixer) return !1;
			var h = function(t) {
				var i = s.xy2val(t.originalEvent.touches[s.t].pageX, t.originalEvent.touches[s.t].pageY);
				s.$div.parent()
					.hasClass("volume-step-limiter") && i - parseInt(SESSION.json.volknob) > parseInt(SESSION.json.volume_step_limit) && (i = parseInt(SESSION.json.volknob) + parseInt(SESSION.json.volume_step_limit)), i != s.cv && (s.cH && !1 === s.cH(i) || (s.change(s._validate(i)), s._draw()))
			};
			return this.t = i.c.t(t), h(t), i.c.d.bind("touchmove.k", h)
				.bind("touchend.k", (function() {
					i.c.d.unbind("touchmove.k touchend.k"), s.rH && !1 === s.rH(s.cv) || s.val(s.cv)
				})), this
		}, this._mouse = function(t) {
			if (s.$div.parent()
				.hasClass("volume-step-limiter") && "none" == SESSION.json.mpdmixer) return !1;
			var h = function(t) {
				var i = s.xy2val(t.pageX, t.pageY);
				i != s.cv && (s.$div.parent()
					.hasClass("volume-step-limiter") && i - parseInt(SESSION.json.volknob) > parseInt(SESSION.json.volume_step_limit) && (i = parseInt(SESSION.json.volknob) + parseInt(SESSION.json.volume_step_limit)), s.cH && !1 === s.cH(i) || (s.change(s._validate(i)), s._draw()))
			};
			return h(t), i.c.d.bind("mousemove.k", h)
				.bind("keyup.k", (function(t) {
					if (27 === t.keyCode) {
						if (i.c.d.unbind("mouseup.k mousemove.k keyup.k"), s.eH && !1 === s.eH()) return;
						s.cancel()
					}
				}))
				.bind("mouseup.k", (function(t) {
					i.c.d.unbind("mousemove.k mouseup.k keyup.k"), s.rH && !1 === s.rH(s.cv) || s.val(s.cv)
				})), this
		}, this._xy = function() {
			var t = this.$c.offset();
			return this.x = t.left, this.y = t.top, this
		}, this._listen = function() {
			return this.o.readOnly ? this.$.attr("readonly", "readonly") : (this.$c.bind("mousedown", (function(t) {
					t.preventDefault(), s._xy()
						._mouse(t)
				}))
				.bind("touchstart", (function(t) {
					t.preventDefault(), s._xy()
						._touch(t)
				})), this.relative && t(window)
				.resize((function() {
					s._carve()
						.init(), s._draw()
				})), this.listen()), this
		}, this._configure = function() {
			return this.o.draw && (this.dH = this.o.draw), this.o.change && (this.cH = this.o.change), this.o.cancel && (this.eH = this.o.cancel), this.o.release && (this.rH = this.o.release), this.o.displayPrevious ? (this.pColor = this.h2rgba(this.o.fgColor, "0.4"), this.fgColor = this.h2rgba(this.o.fgColor, "0.6")) : this.fgColor = this.o.fgColor, this
		}, this._clear = function() {
			this.$c[0].width = this.$c[0].width
		}, this._validate = function(t) {
			return ~~((t < 0 ? -.5 : .5) + t / this.o.step) * this.o.step
		}, this.listen = function() {}, this.extend = function() {}, this.init = function() {}, this.change = function(t) {}, this.val = function(t) {}, this.xy2val = function(t, i) {}, this.draw = function() {}, this.clear = function() {
			this._clear()
		}, this.h2rgba = function(t, i) {
			var s;
			return t = t.substring(1, 7), "rgba(" + (s = [parseInt(t.substring(0, 2), 16), parseInt(t.substring(2, 4), 16), parseInt(t.substring(4, 6), 16)])[0] + "," + s[1] + "," + s[2] + "," + i + ")"
		}, this.copy = function(t, i) {
			for (var s in t) i[s] = t[s]
		}
	}, i.Dial = function() {
		i.o.call(this), this.startAngle = null, this.xy = null, this.radius = null, this.lineWidth = null, this.cursorExt = null, this.w2 = null, this.PI2 = 2 * Math.PI, this.extend = function() {
			this.o = t.extend({
				bgColor: this.$.data("bgcolor") || "#EEEEEE",
				angleOffset: this.$.data("angleoffset") || 0,
				angleArc: this.$.data("anglearc") || 360,
				inline: !0
			}, this.o)
		}, this.val = function(t) {
			if (this.$div.parent()
				.hasClass("volume-step-limiter") && (this.o.max = SESSION.json.volume_mpd_max), null == t) return this.v;
			this.cv = this.o.stopper ? s(h(t, this.o.max), this.o.min) : t, this.v = this.cv, this.$.val(this.v), this._draw()
		}, this.xy2val = function(t, i) {
			if (this.$div.parent()
				.hasClass("volume-step-limiter")) {
				if ("none" == SESSION.json.mpdmixer) return !1;
				"1" == SESSION.json.volmute && volMuteSwitch()
			}
			var e, n;
			return e = Math.atan2(t - (this.x + this.w2), -(i - this.y - this.w2)) - this.angleOffset, this.angleArc != this.PI2 && e < 0 && e > -.5 ? e = 0 : e < 0 && (e += this.PI2), n = ~~(.5 + e * (this.o.max - this.o.min) / this.angleArc) + this.o.min, this.o.stopper && (n = s(h(n, this.o.max), this.o.min)), n
		}, this.listen = function() {
			var i, e, n = this,
				o = function(t) {
					if (n.$div.parent()
						.hasClass("volume-step-limiter") && "none" == SESSION.json.mpdmixer) return !1;
					t.preventDefault();
					var i = t.originalEvent,
						s = i.detail || i.wheelDeltaX,
						h = i.detail || i.wheelDeltaY,
						e = parseInt(n.$.val()) + (s > 0 || h > 0 ? n.o.step : s < 0 || h < 0 ? -n.o.step : 0);
					n.cH && !1 === n.cH(e) || n.val(e)
				},
				a = 1,
				r = {
					37: -n.o.step,
					38: n.o.step,
					39: n.o.step,
					40: -n.o.step
				};
			this.$.bind("keydown", (function(o) {
					var l = o.keyCode;
					if (l >= 96 && l <= 105 && (l = o.keyCode = l - 48), i = parseInt(String.fromCharCode(l)), isNaN(i) && (13 !== l && 8 !== l && 9 !== l && 189 !== l && o.preventDefault(), t.inArray(l, [37, 38, 39, 40]) > -1)) {
						o.preventDefault();
						var c = parseInt(n.$.val()) + r[l] * a;
						n.o.stopper && (c = s(h(c, n.o.max), n.o.min)), n.change(c), n._draw(), e = window.setTimeout((function() {
							a *= 2
						}), 30)
					}
				}))
				.bind("keyup", (function(t) {
					isNaN(i) ? e && (window.clearTimeout(e), e = null, a = 1, n.val(n.$.val())) : n.$.val() > n.o.max && n.$.val(n.o.max) || n.$.val() < n.o.min && n.$.val(n.o.min)
				})), this.$c.bind("mousewheel DOMMouseScroll", o), this.$.bind("mousewheel DOMMouseScroll", o)
		}, this.init = function() {
			(this.v < this.o.min || this.v > this.o.max) && (this.v = this.o.min), this.$.val(this.v), this.w2 = this.w / 2, this.cursorExt = this.o.cursor / 100, this.xy = this.w2 * this.scale, this.lineWidth = this.xy * this.o.thickness, this.lineCap = this.o.lineCap, this.radius = this.xy - this.lineWidth / 2, this.o.angleOffset && (this.o.angleOffset = isNaN(this.o.angleOffset) ? 0 : this.o.angleOffset), this.o.angleArc && (this.o.angleArc = isNaN(this.o.angleArc) ? this.PI2 : this.o.angleArc), this.angleOffset = this.o.angleOffset * Math.PI / 180, this.ao2 = 360 * Math.PI / 180, this.angleArc = this.o.angleArc * Math.PI / 180, this.startAngle = 1.5 * Math.PI + this.angleOffset, this.endAngle = 1.5 * Math.PI + this.ao2 + this.angleArc;
			var t = s(String(Math.abs(this.o.max))
				.length, String(Math.abs(this.o.min))
				.length, 2) + 2;
			this.o.displayInput && this.i.css({
				width: (this.w / 2 + 4 >> 0) + "px",
				height: (this.w / 3 >> 0) + "px",
				position: "absolute",
				"vertical-align": "middle",
				"margin-top": (this.w / 3 >> 0) + "px",
				"margin-left": "-" + (3 * this.w / 4 + 2 >> 0) + "px",
				border: 0,
				background: "none",
				font: this.o.fontWeight + " " + (this.w / t >> 0) + "px " + this.o.font,
				"text-align": "center",
				color: this.o.inputColor || this.o.fgColor,
				padding: "0px",
				"-webkit-appearance": "none"
			}) || this.i.css({
				width: "0px",
				visibility: "hidden"
			})
		}, this.change = function(t) {
			this.cv = t, this.$.val(t)
		}, this.angle = function(t) {
			return (t - this.o.min) * this.angleArc / (this.o.max - this.o.min)
		}, this.draw = function() {
			var t, i, s = this.g,
				h = this.angle(this.cv),
				e = this.startAngle,
				n = e + h,
				o = 1;
			if (s.lineWidth = this.lineWidth, s.lineCap = this.lineCap, this.o.cursor && (e = n - this.cursorExt) && (n += this.cursorExt), s.beginPath(), s.strokeStyle = this.o.bgColor, s.arc(this.xy + this.po, this.xy + this.po, this.radius, this.endAngle, this.startAngle, !0), s.stroke(), this.o.displayPrevious && (i = this.startAngle + this.angle(this.v), t = this.startAngle, this.o.cursor && (t = i - this.cursorExt) && (i += this.cursorExt), s.beginPath(), s.strokeStyle = this.pColor, s.arc(this.xy + this.po, this.xy + this.po, this.radius, t, i, !1), s.stroke(), o = this.cv == this.v), e != n) {
				if ("#" == this.o.fgColor.substr(0, 1)) {
					var a = hexToRgb(this.o.fgColor);
					this.o.fgColor = "rgb(" + a[0] + "," + a[1] + "," + a[2] + ")"
				}
				if ("rgb(" == this.o.fgColor.substr(0, 4)) a = splitRGB(this.o.fgColor);
				else a = splitColor(this.o.fgColor);
				var r = "rgba(" + a[0] + "," + a[1] + "," + a[2] + ",.75)";
				s.beginPath(), this.bloom && (s.shadowBlur = this.po, s.shadowColor = r), s.strokeStyle = o ? this.o.fgColor : this.fgColor, s.arc(this.xy + this.po, this.xy + this.po, this.radius, e, n, !1), s.stroke()
			}
		}, this.cancel = function() {
			this.val(this.v)
		}
	}, t.fn.dial = t.fn.knob = function(s) {
		return this.each((function() {
				var h = new i.Dial;
				h.o = s, h.$ = t(this), h.run()
			}))
			.parent()
	}
}(jQuery);


! function(t) {
	"use strict";
	var e = function(e, n) {
		this.$element = t(e), this.options = n, this.before = this.options.before || this.before, this.onItem = this.options.onItem || this.onItem, this.options.target && this.$element.attr("data-target", this.options.target), this.listen()
	};
	e.prototype = {
			constructor: e,
			show: function(e) {
				var n, o;
				if (!t(this)
					.is(".disabled, :disabled") && (o = t.Event("context"), this.before.call(this, e, this.$element))) {
					this.$element.trigger(o), n = this.getMenu();
					var i = this.getPosition(e, n);
					return n.attr("style", "")
						.css(i)
						.addClass("open"), t("#context-backdrop")
						.show(), !1
				}
			},
			closemenu: function(t) {
				this.getMenu()
					.removeClass("open")
			},
			before: function(t) {
				return !0
			},
			onItem: function(t, e) {
				return !0
			},
			listen: function() {
				var e = this;
				this.$element.on("contextmenu.context.data-api", t.proxy(this.show, this)), t("html")
					.on("click.context.data-api", t.proxy(this.closemenu, this));
				var n = t(this.$element.attr("data-target"));
				n.on("click.context.data-api", (function(n) {
						e.onItem.call(this, n, t(n.target))
					})), t("html")
					.on("click.context.data-api", (function(e) {
						e.ctrlKey || (n.removeClass("open"), t("#context-backdrop")
							.hide())
					}))
			},
			getMenu: function() {
				var e = this.$element.attr("data-target");
				return e || (e = (e = this.$element.attr("href")) && e.replace(/.*(?=#[^\s]*$)/, "")), t(e)
			},
			getPosition: function(e, n) {
				var o, i, s, r = e.clientX,
					a = e.clientY,
					c = t(window)
					.width(),
					h = t(window)
					.height(),
					l = n.find(".dropdown-menu")
					.outerWidth(),
					d = n.find(".dropdown-menu")
					.outerHeight();
				return "0.75" == t("body")
					.css("zoom") && (c = Math.round(1.25 * c), h = Math.round(1.25 * h), r = Math.round(1.25 * r), a = Math.round(1.25 * a), d = Math.round(.75 * d), l = Math.round(.75 * l)), o = a + d > h ? {
						top: a - d + t(window)
							.scrollTop()
					} : {
						top: a + t(window)
							.scrollTop()
					}, i = r + l > c && r - l > 0 ? {
						left: r - l + t(window)
							.scrollLeft() - 15
					} : {
						left: r + t(window)
							.scrollLeft() + 15
					}, s = n.offsetParent()
					.offset(), i.left = i.left - s.left, o.top = o.top - s.top, t.extend({
						position: "absolute",
						"z-index": 9999
					}, o, i)
			},
			clearMenus: function(e) {
				e.ctrlKey || t("[data-toggle=context]")
					.each((function() {
						this.getMenu()
							.removeClass("open"), t("#context-backdrop")
							.hide()
					}))
			}
		}, t.fn.contextmenu = function(n, o) {
			return this.each((function() {
				var i = t(this),
					s = i.data("context"),
					r = "object" == typeof n && n;
				s || i.data("context", s = new e(this, r)), "string" == typeof n && s[n].call(s, o)
			}))
		}, t.fn.contextmenu.Constructor = e, t(document)
		.on("click.context.data-api", "[data-toggle=context]", (function(e) {
			var n = t(this)
				.offset();
			UI.dbEntry[1] = n.left, UI.dbEntry[2] = n.top, t(this)
				.contextmenu("show", e), e.preventDefault()
		}))
}(window.jQuery);


var LIB = {
		albumClicked: !1,
		recentlyAddedClicked: !1,
		currentDate: null,
		totalTime: 0,
		totalSongs: 0,
		artistClicked: "",
		filters: {
			artists: [],
			genres: [],
			albums: []
		}
	},
	allGenres = [],
	allAlbums = [],
	allSongs = [],
	allAlbumCovers = [],
	filteredGenres = [],
	filteredArtists = [],
	filteredAlbums = [],
	filteredSongs = [],
	filteredSongsDisc = [],
	filteredSongsAlbum = [],
	filteredAlbumCovers = [],
	miscLibOptions = [];

function isTrackIndex(e) {
	return "track" === e.substring(e.lastIndexOf("/") + 1)
		.substr(0, 5)
}

function isCUE(e) {
	return ".cue" === e.substr(e.lastIndexOf("."), 4)
}

function getParentDirectory(e) {
	let t = e.substring(0, e.lastIndexOf("/"));
	return isTrackIndex(e) && isCUE(t) && (t = t.substring(0, t.lastIndexOf("/"))), t
}

function loadLibrary() {
	GLOBAL.libLoading = !0, (miscLibOptions = getMiscLibOptions())[2] = -1 != miscLibOptions[1].indexOf("FolderPath") ? "Yes" : "No", miscLibOptions[1] = -1 != miscLibOptions[1].indexOf("AlbumID") ? "Yes" : "No";
	var e = setTimeout((function() {
		"tag" != currentView && "album" != currentView || notify("library_loading")
	}), 2e3);
	$.getJSON("command/music-library.php?cmd=load_library", (function(t) {
		clearTimeout(e), $("#lib-content")
			.show(), renderLibrary(t), "album" != currentView && "tag" != currentView || setLibMenuAndHeader(), "recent" == SESSION.json.lib_scope && $(".view-recents")
			.click(), GLOBAL.libRendered = !0, GLOBAL.libLoading = !1
	}))
}

function renderLibrary(e) {
	groupLib(e), filterLib(), LIB.totalSongs = allSongs.length, renderGenres()
}

function reduceGenres(e, t) {
	for (i = 0; i < t.genre.length; i++) {
		var r = t.genre[i].toLowerCase();
		e[r] || (e[r] = [], e[r].genre = t.genre[i]), e[r].push(t)
	}
	return e
}

function reduceArtists(e, t) {
	if (t.album_artist && "Artist (Strict)" != SESSION.json.library_tagview_artist) {
		if (e[r = t.album_artist.toLowerCase()] || (e[r] = [], e[r].artist = t.album_artist), e[r].push(t), SESSION.json.library_tagview_artist.includes("Album Artist")) return e
	} else var r = null;
	if (t.artist)
		for (var i = 0; i < t.artist.length; i++) {
			var s = t.artist[i].toLowerCase();
			s != r && (e[s] || (e[s] = [], e[s].artist = t.artist[i]), e[s].push(t))
		}
	return e
}

function reduceAlbums(e, t) {
	var r = t.key;
	return e[r] || (e[r] = []), e[r].push(t), e
}

function findAlbumProp(e, t) {
	var r = e.find((function(e) {
		return e[t]
	}));
	return r && r[t]
}

function getLastModified(e) {
	var t = e.map((function(e) {
		return new Date(e.last_modified)
	}));
	return new Date(Math.max.apply(null, t))
}

function getYear(e) {
	var t = e.map((function(e) {
		return e.year
	}));
	return Math.max.apply(null, t)
}

function getAlbumArtist(e) {
	var t;
	return 1 == (t = e.reduce((function(e, t) {
			return !e.includes(t.album_artist) && e.push(t.album_artist), e
		}), []))
		.length ? t[0] : "Various"
}

function groupLib(e) {
	allSongs = e.map((function(e) {
			var t = e;
			return t.key = keyAlbum(e), t
		})), allGenres = Object.values(allSongs.reduce(reduceGenres, {}))
		.map((function(e) {
			return e.genre
		}));
	var t = new Intl.Collator(void 0, {
		numeric: !0,
		sensitivity: "base"
	});
	switch (allGenres.sort((function(e, r) {
			return t.compare(removeArticles(e), removeArticles(r))
		})), allAlbums = Object.values(allSongs.reduce(reduceAlbums, {}))
		.map((function(e) {
			var t = findAlbumProp(e, "file"),
				r = void 0 === t ? 0 : $.md5(getParentDirectory(t)),
				i = getYear(e);
			return {
				key: findAlbumProp(e, "key"),
				last_modified: getLastModified(e),
				year: i,
				album: findAlbumProp(e, "album"),
				mb_albumid: findAlbumProp(e, "mb_albumid"),
				genre: findAlbumProp(e, "genre"),
				all_genres: Object.keys(e.reduce(reduceGenres, {})),
				album_artist: getAlbumArtist(e),
				imgurl: "/imagesw/thmcache/" + encodeURIComponent(r) + ".jpg",
				encoded_at: findAlbumProp(e, "encoded_at"),
				comment: findAlbumProp(e, "comment")
			}
		})), allAlbumCovers = allAlbums.slice(), allSongs.sort((function(e, r) {
			return t.compare(removeArticles(e.album_artist), removeArticles(r.album_artist))
		})), SESSION.json.library_albumview_sort) {
		case "Album":
			allAlbumCovers.sort((function(e, r) {
				return t.compare(removeArticles(e.album), removeArticles(r.album))
			}));
			break;
		case "Artist":
			allAlbumCovers.sort((function(e, r) {
				return t.compare(removeArticles(e.album_artist), removeArticles(r.album_artist)) || t.compare(removeArticles(e.album), removeArticles(r.album))
			}));
			break;
		case "Artist/Year":
			allAlbumCovers.sort((function(e, r) {
				return t.compare(removeArticles(e.album_artist), removeArticles(r.album_artist)) || t.compare(e.year, r.year)
			}));
			break;
		case "Year":
			allAlbumCovers.sort((function(e, r) {
				return t.compare(e.year, r.year) || t.compare(removeArticles(e.album), removeArticles(r.album))
			}))
	}
	switch (SESSION.json.library_tagview_sort) {
		case "Album":
		case "Album/Year":
			allAlbums.sort((function(e, r) {
				return t.compare(removeArticles(e.album), removeArticles(r.album))
			}));
			break;
		case "Artist":
			allAlbums.sort((function(e, r) {
				return t.compare(removeArticles(e.album_artist), removeArticles(r.album_artist)) || t.compare(removeArticles(e.album), removeArticles(r.album))
			}));
			break;
		case "Artist/Year":
			allAlbums.sort((function(e, r) {
				return t.compare(removeArticles(e.album_artist), removeArticles(r.album_artist)) || t.compare(e.year, r.year)
			}));
			break;
		case "Year":
			allAlbums.sort((function(e, r) {
				return t.compare(e.year, r.year) || t.compare(removeArticles(e.album), removeArticles(r.album))
			}))
	}
}

function filterByGenre(e) {
	var t = e.genre.map((function(e) {
		return e.toLowerCase()
	}));
	return result = LIB.filters.genres.find((function(e) {
		return t.find((function(t) {
			return t == e.toLowerCase()
		}))
	})), result
}

function filterByAllGenres(e) {
	return LIB.filters.genres.find((function(t) {
		return e.all_genres.includes(t.toLowerCase())
	}))
}

function filterByArtist(e) {
	if ("Album Artist" == SESSION.json.library_tagview_artist) {
		var t = e.album_artist.toLowerCase();
		return LIB.filters.artists.find((function(e) {
			var r = e.toLowerCase();
			return t === r
		}))
	}
	var r = e.artist.map((function(e) {
		return e.toLowerCase()
	}));
	return r.push(e.album_artist.toLowerCase()), result = LIB.filters.artists.find((function(e) {
		return r.find((function(t) {
			return t === e.toLowerCase()
		}))
	})), result
}

function filterByAlbum(e) {
	return LIB.filters.albums.includes(e.key)
}

function filterAlbumsByDate(e) {
	return LIB.currentDate.getTime() - e.last_modified.getTime() <= parseInt(SESSION.json.library_recently_added)
}

function filterSongsByDate(e) {
	return itemDateObj = new Date(e.last_modified), LIB.currentDate.getTime() - itemDateObj.getTime() <= parseInt(SESSION.json.library_recently_added)
}

function filterArtists() {
	var e = allSongs;
	LIB.filters.genres.length && (e = e.filter(filterByGenre)), filteredArtists = Object.values(e.reduce(reduceArtists, {}))
		.map((function(e) {
			return e.artist
		}));
	var t = [];
	filteredArtists.forEach(e => {
		t = t.concat(e)
	}), filteredArtists = t.slice();
	var r = new Intl.Collator(void 0, {
		numeric: !0,
		sensitivity: "base"
	});
	filteredArtists.sort((function(e, t) {
		return r.compare(removeArticles(e)
			.toLowerCase(), removeArticles(t)
			.toLowerCase())
	}))
}

function filterAlbums() {
	if (filteredAlbums = allAlbums, filteredAlbumCovers = allAlbumCovers, LIB.filters.genres.length && (filteredAlbums = filteredAlbums.filter(filterByAllGenres), filteredAlbumCovers = filteredAlbumCovers.filter(filterByAllGenres)), LIB.filters.artists.length) {
		var e = allSongs.filter(filterByArtist)
			.map((function(e) {
				return e.key
			}));
		filteredAlbums = filteredAlbums.filter((function(t) {
			return e.includes(keyAlbum(t))
		})), filteredAlbumCovers = filteredAlbumCovers.filter((function(t) {
			return e.includes(keyAlbum(t))
		}))
	}
	if (LIB.recentlyAddedClicked) {
		LIB.currentDate = new Date, filteredAlbums = filteredAlbums.filter(filterAlbumsByDate), filteredAlbumCovers = filteredAlbumCovers.filter(filterAlbumsByDate);
		var t = new Intl.Collator(void 0, {
			numeric: !0,
			sensitivity: "base"
		});
		filteredAlbums.sort((function(e, r) {
			return t.compare(r.last_modified.getTime(), e.last_modified.getTime())
		})), filteredAlbumCovers.sort((function(e, r) {
			return t.compare(r.last_modified.getTime(), e.last_modified.getTime())
		}))
	}
}

function filterSongs() {
	filteredSongs = allSongs, LIB.filters.genres.length && (filteredSongs = filteredSongs.filter(filterByGenre)), LIB.filters.artists.length && (filteredSongs = filteredSongs.filter(filterByArtist)), LIB.filters.albums.length && (filteredSongs = filteredSongs.filter(filterByAlbum)), LIB.recentlyAddedClicked && (filteredSongs = filteredSongs.filter(filterSongsByDate))
}

function filterLib() {
	filteredSongsDisc.length = 0, filterArtists(), filterAlbums(), filterSongs()
}

function removeArticles(e) {
	return "None" != SESSION.json.library_ignore_articles ? e.replace(GLOBAL.regExIgnoreArticles, "$2") : e
}

function keyAlbum(e) {
	if ("Nothing found" != e.album) {
		if ("Yes" == miscLibOptions[2]) {
			if (void 0 !== e.file) var t = $.md5(e.file.substring(0, e.file.lastIndexOf("/")));
			else if (void 0 !== e.imgurl) t = e.imgurl.substring(e.imgurl.lastIndexOf("/") + 1, e.imgurl.indexOf(".jpg"));
			return e.album.toLowerCase() + "@" + t + "@" + e.mb_albumid
		}
		return e.album.toLowerCase() + "@" + (e.album_artist || e.artist)
			.toLowerCase() + "@" + e.mb_albumid
	}
}

function parseSongTime(e) {
	var t = parseInt(e);
	return isNaN(t) ? 0 : t
}

function makeCoverUrl(e) {
	return "/coverart.php/" + encodeURIComponent(e)
}

function clickedLibItem(e, t, r, i) {
	null == t ? r.length = 0 : e.ctrlKey || e.metaKey ? (currentIndex = r.indexOf(t), currentIndex >= 0 ? r.splice(currentIndex, 1) : r.push(t)) : (r.length = 0, r.push(t)), filterLib(), "Album/Year" == SESSION.json.library_tagview_sort && 1 == LIB.artistClicked && filteredAlbums.sort((function(e, t) {
		return parseInt(e.year) - parseInt(t.year)
	})), i()
}
Object.values || Object.defineProperty(Object, "values", {
	configurable: !0,
	enumerable: !1,
	value: function(e) {
		return Object.keys(e)
			.map((function(t) {
				return e[t]
			}))
	},
	writable: !0
});
var renderGenres = function() {
		for (var e = "", t = 0; t < allGenres.length; t++) e += '<li class="lib-entry' + (LIB.filters.genres.indexOf(allGenres[t]) >= 0 ? " active" : "") + '">' + allGenres[t] + "</li>";
		document.getElementById("genresList")
			.innerHTML = e, -2 == UI.libPos[0] && $("#lib-genre")
			.scrollTo(0, 200), renderArtists()
	},
	renderArtists = function() {
		for (var e = "", t = 0; t < filteredArtists.length; t++) e += '<li class="lib-entry' + (LIB.filters.artists.indexOf(filteredArtists[t]) >= 0 || 1 == filteredArtists.length ? " active" : "") + '">' + filteredArtists[t] + "</li>";
		document.getElementById("artistsList")
			.innerHTML = e, -2 == UI.libPos[0] && $("#lib-artist")
			.scrollTo(0, 200), renderAlbums()
	},
	renderAlbums = function() {
		var e = "",
			t = "",
			r = "",
			i = "",
			s = "",
			l = "";
		if (GLOBAL.nativeLazyLoad) var a = '<img loading="lazy" src="',
			n = '<div class="thumbHW"><img loading="lazy" src="';
		else a = '<img class="lazy-tagview" data-original="', n = '<div class="thumbHW"><img class="lazy-albumview" data-original="';
		for (var o = parseInt(SESSION.json.library_encoded_at), d = "", c = "", m = "", u = "", b = "", f = "", g = 0; g < filteredAlbums.length; g++) {
			if (r = filteredAlbums[g].year ? "(" + filteredAlbums[g].year + ")" : "", i = filteredAlbumCovers[g].year ? "(" + filteredAlbumCovers[g].year + ")" : "", "Yes" == miscLibOptions[0] && (s = filteredAlbums[g].comment ? filteredAlbums[g].comment : "", l = filteredAlbumCovers[g].comment ? filteredAlbumCovers[g].comment : ""), o && 9 != o) {
				d = 1 == o && "h" == filteredAlbums[g].encoded_at.split(",")[1] ? '<div class="lib-encoded-at-hdonly-tagview">' + ALBUM_HD_BADGE_TEXT + "</div>" : "", c = o <= 1 ? '<div class="lib-encoded-at-notvisible">' + filteredAlbums[g].encoded_at.split(",")[0] + "</div>" : "";
				var p = filteredAlbumCovers[g].encoded_at.split(",");
				m = o <= 1 ? '<div class="lib-encoded-at-notvisible">' + filteredAlbumCovers[g].encoded_at.split(",")[0] + "</div>" : "", u = 1 == o && "h" == p[1] ? '<div class="lib-encoded-at-hdonly">' + ALBUM_HD_BADGE_TEXT + "</div>" : "", b = 2 == o ? '<div class="lib-encoded-at-text">' + p[0] + "</div>" : "", f = 3 == o ? '<div class="lib-encoded-at-badge">' + p[0] + "</div>" : ""
			}
			"Yes" == SESSION.json.library_tagview_covers ? e += '<li class="lib-entry">' + a + filteredAlbums[g].imgurl + '">' + d + '<div class="tag-cover-text"><span class="album-name-art">' + filteredAlbums[g].album + '</span><span class="artist-name-art">' + filteredAlbums[g].album_artist + '</span><span class="album-year">' + r + '</span><span class="album-comment">' + s + "</span></div>" + c + "</li>" : e += '<li class="lib-entry no-tagview-covers"><span class="album-name">' + filteredAlbums[g].album + '</span><span class="artist-name-art">' + filteredAlbums[g].album_artist + '</span><span class="album-year">' + r + '</span><span class="album-comment">' + s + "</span></li>", t += '<li class="lib-entry">' + n + filteredAlbumCovers[g].imgurl + '"></div><div class="cover-menu" data-toggle="context" data-target="#context-menu-lib-album"></div>' + u + f + '<span class="album-name">' + filteredAlbumCovers[g].album + '</span><div class="artyear"><span class="artist-name">' + filteredAlbumCovers[g].album_artist + '</span><span class="album-year">' + i + '</span><span class="album-comment">' + l + "</span></div>" + b + m + "</li>"
		}
		document.getElementById("albumsList")
			.innerHTML = e, document.getElementById("albumcovers")
			.innerHTML = t, 1 == filteredAlbums.length && ($("#albumsList li")
				.addClass("active"), LIB.albumClicked = !0, UI.libPos[0] = 0), "Yes" == SESSION.json.library_ellipsis_limited_text && $("#library-panel, #radio-panel, #playlist-panel")
			.addClass("limited"), -2 == UI.libPos[0] && ($(".tag-view-btn")
				.hasClass("active") ? $("#lib-album")
				.scrollTo(0, 200) : $("#lib-albumcover")
				.scrollTo(0, 200)), $(".album-view-btn")
			.hasClass("active") ? $("img.lazy-albumview")
			.lazyload({
				container: $("#lib-albumcover")
			}) : $(".tag-view-btn")
			.hasClass("active") && "Yes" == SESSION.json.library_tagview_covers && $("img.lazy-tagview")
			.lazyload({
				container: $("#lib-album")
			}), renderSongs()
	},
	renderSongs = function(e) {
		var t = "",
			r = "",
			s = "",
			l = "",
			a = "";
		LIB.totalTime = 0;
		var n = new Intl.Collator(void 0, {
			numeric: !0,
			sensitivity: "base"
		});
		if (filteredSongs.sort((function(e, t) {
			return n.compare(e.key, t.key) || n.compare(e.disc, t.disc) || n.compare(e.tracknum, t.tracknum)
		})), 1 == LIB.artistClicked || 1 == LIB.albumClicked) {
			var o = [];
			if (1 == LIB.albumClicked)
				for (j = 0; j < filteredSongs.length; j++) filteredSongs[j].key == filteredAlbums[UI.libPos[0]].key && o.push(filteredSongs[j]);
			else
				for (i = 0; i < filteredAlbums.length; i++)
					for (j = 0; j < filteredSongs.length; j++) filteredSongs[j].key == filteredAlbums[i].key && o.push(filteredSongs[j]);
			filteredSongs = o, r = "", s = "";
			var d = [];
			for (i = 0; i < filteredSongs.length; i++) filteredSongs[i].album == r && filteredSongs[i].disc != s && d.push(filteredSongs[i].album), r = filteredSongs[i].album, s = filteredSongs[i].disc;
			for (r = "", s = "", i = 0; i < filteredSongs.length; i++) {
				var c = filteredSongs[i].year ? filteredSongs[i].year.slice(0, 4) : " ";
				if ("Yes" == miscLibOptions[0]) var m = "" != filteredSongs[i].comment ? " (" + filteredSongs[i].comment + ")" : "";
				else if ("Yes" == miscLibOptions[1]) m = "0" != filteredSongs[i].mb_albumid ? " (" + filteredSongs[i].mb_albumid.slice(0, 8) + ")" : "";
				else m = "";
				(f = filteredSongs[i].album + m) != r ? (l = "<div id=lib-album-" + (i + 1)
					.toString() + ' class="lib-album-heading" heading-album="' + filteredSongs[i].album + '" heading-comment="' + filteredSongs[i].comment + '" heading-key="' + filteredSongs[i].mb_albumid + '"><a class="btn" href="#notarget" data-toggle="context" data-target="#context-menu-lib-album-heading">' + f + "</a></div>", r = f) : l = "", -1 != d.indexOf(filteredSongs[i].album) && (filteredSongs[i].disc != s ? (a = '<div id="lib-disc-' + filteredSongs[i].disc + '" class="lib-disc" heading-album="' + filteredSongs[i].album + '" heading-disc="' + filteredSongs[i].disc + '" heading-comment="' + filteredSongs[i].comment + '" heading-key="' + filteredSongs[i].mb_albumid + '"><a class="btn" href="#notarget" data-toggle="context" data-target="#context-menu-lib-disc">Disc ' + filteredSongs[i].disc + "</a></div>", s = filteredSongs[i].disc) : a = "");
				var u = "Composer tag missing" == filteredSongs[i].composer ? "</span>" : '<br><span class="songcomposer">' + filteredSongs[i].composer + "</span></span>",
					b = filteredSongs[i].title == MPD.json.title && filteredSongs[i].album == MPD.json.album && "play" == MPD.json.state ? " lib-track-highlight" : "";
				t += l + a + '<li id="lib-song-' + (i + 1) + '" class="clearfix lib-track" data-toggle="context" data-target="#context-menu-lib-item"><div class="lib-entry-song"><span class="songtrack' + b + '">' + filteredSongs[i].tracknum + '</span><span class="songname">' + filteredSongs[i].title + '</span><span class="songtime"> ' + filteredSongs[i].time_mmss + '</span><span class="songartist"> ' + filteredSongs[i].artist.join(", ") + u + '<span class="songyear"> ' + c + "</span></div></li>", LIB.totalTime += parseSongTime(filteredSongs[i].time)
			}
		} else
			for (i = 0; i < filteredSongs.length; i++) LIB.totalTime += parseSongTime(filteredSongs[i].time);
		if (document.getElementById("songsList")
			.innerHTML = t, (filteredAlbums.length > 1 && 1 == LIB.artistClicked && 0 == LIB.albumClicked || "0" != filteredSongs[0].mb_albumid) && $(".lib-album-heading")
			.css("display", "block"), s > 1 && !filteredSongs[0].album.toLowerCase()
			.includes("[disc") && $(".lib-disc")
			.css("display", "block"), 1 == filteredAlbums.length || LIB.filters.albums.length || void 0 !== e) $("#lib-coverart-img")
			.html('<a href="#notarget" data-toggle="context" data-target="#context-menu-lib-album"><img class="lib-coverart" src="' + filteredAlbums[UI.libPos[0]].imgurl + '" alt="Cover art not found"></a>'), $("#lib-albumname")
			.html(filteredSongs[0].album), g = e && !UI.libPos[0] ? filteredAlbums[UI.libPos[0]].album_artist : filteredSongs[0].album_artist, "Nothing found" == filteredSongs[0].album ? ($("#lib-artistname, #lib-albumyear, #lib-numtracks, #lib-encoded-at")
				.html(""), $("#lib-coverart-img a, .cover-menu")
				.attr("data-target", "#")) : ($("#lib-artistname")
				.html(g), $("#lib-albumyear")
				.html(filteredSongs[0].year), $("#lib-numtracks")
				.html(filteredSongs.length + (1 == filteredSongs.length ? " track, " : " tracks, ") + formatLibTotalTime(LIB.totalTime)), $("#lib-encoded-at")
				.html(filteredSongs[0].encoded_at.split(",")[0]));
		else {
			var f = LIB.filters.genres.length ? LIB.filters.genres : LIB.filters.artists.length ? LIB.filters.artists : "Music Library",
				g = LIB.filters.genres.length ? LIB.filters.artists : "";
			if (LIB.filters.artists.length > 0) {
				var p = 1 == LIB.filters.artists.length ? LIB.filters.artists[0] : "Multiple Artists Selected";
				$("#lib-coverart-img")
					.html('<img class="lib-artistart" src="' + filteredAlbums[0].imgurl + '" alt="Cover art not found"><button class="btn" id="tagview-text-cover" data-toggle="context" data-target="#context-menu-lib-album">' + p + "</button>"), g = ""
			} else if (LIB.filters.genres.length > 0) {
				var S = 1 == LIB.filters.genres.length ? LIB.filters.genres[0] : "Multiple Genres Selected";
				$("#lib-coverart-img")
					.html('<button class="btn" id="tagview-text-cover" data-toggle="context" data-target="#context-menu-lib-album">' + S + "</button>")
			} else {
				if ("full_lib" != SESSION.json.library_flatlist_filter) var y = '<div id="lib-flatlist-filter"><i class="far fa-filter"></i></div>';
				else y = "";
				$("#lib-coverart-img")
					.html('<button class="btn" id="tagview-text-cover" data-toggle="context" data-target="#context-menu-lib-album">Music Collection' + y + "</button>")
			}
			$("#lib-albumname")
				.html(f), $("#lib-artistname")
				.html(g), $("#lib-albumyear")
				.html(""), $("#lib-numtracks")
				.html(formatNumCommas(filteredAlbums.length) + " albums<br>" + formatNumCommas(filteredSongs.length) + (1 == filteredSongs.length ? " track<br>" : " tracks<br>") + formatLibTotalTime(LIB.totalTime)), $("#lib-encoded-at")
				.html("")
		}
	};

function formatLibTotalTime(e) {
	var t, r, i, s, l;
	return isNaN(parseInt(e)) ? t = "" : (s = 0 == (r = ~~(e / 3600)) ? "" : 1 == r ? r + " hour" : r + " hours", l = 0 == (i = ~~((e %= 3600) / 60)) ? "" : 1 == i ? i + " min" : i + " mins", t = r > 0 ? i > 0 ? s + " " + l : s : l), formatNumCommas(t)
}

function formatNumCommas(e) {
	return e.toString()
		.replace(/\B(?=(\d{3})+(?!\d))/g, ",")
}

function showHideTracks(e) {
	!0 === e || "none" == $("#bottom-row")
		.css("display") ? ($("#tracklist-toggle")
			.html('<i class="fal fa-list sx"></i> '), $("#bottom-row")
			.css("display", "flex"), $("#lib-albumcover")
			.css("height", "calc(50% - env(safe-area-inset-top) - 2.75rem)"), $("#index-albumcovers")
			.hide(), customScroll("tracks", 0, 200)) : ($("#tracklist-toggle")
			.html('<i class="fal fa-list sx"></i>'), $("#bottom-row")
			.css("display", ""), $("#lib-albumcover")
			.css("height", "100%"), $("#index-albumcovers")
			.show()), customScroll("albumcovers", UI.libPos[1], 200)
}
$("#genreheader, #library-header")
	.on("click", (function(e) {
		"full_lib" == SESSION.json.library_flatlist_filter || 0 != $(e.target)
			.parent("#genreheader")
			.length || "all" != GLOBAL.musicScope ? ("tag" == currentView || "album" == currentView ? (LIB.filters.genres.length = 0, LIB.filters.artists.length = 0, LIB.filters.albums.length = 0, LIB.artistClicked = !1, LIB.albumClicked = !1, $("#tracklist-toggle")
				.html('<i class="fal fa-list sx"></i>'), "" != $("#lib-album-filter")
				.val() ? $("#searchResetLib")
				.show() : ($("#searchResetLib")
					.hide(), showSearchResetLib = !1), "recent" == GLOBAL.musicScope && (GLOBAL.musicScope = "all"), "album" == currentView && ($("#albumcovers .lib-entry")
					.removeClass("active"), $("#bottom-row")
					.css("display", ""), $("#lib-albumcover")
					.css("height", "100%")), setLibMenuAndHeader()) : "radio" == currentView && (GLOBAL.searchRadio = "", $("#btn-ra-search-reset")
				.click(), setLibMenuAndHeader()), UI.libPos.fill(-2), storeLibPos(UI.libPos), clickedLibItem(e, void 0, LIB.filters.genres, renderGenres)) : applyLibFilter("full_lib")
	})), $("#artistheader")
	.on("click", ".lib-heading", (function(e) {
		LIB.artistClicked = !1, LIB.albumClicked = !1, LIB.filters.artists.length = 0, LIB.filters.albums.length = 0, UI.libPos.fill(-2), storeLibPos(UI.libPos), clickedLibItem(e, void 0, LIB.filters.artists, renderArtists), setLibMenuAndHeader()
	})), $("#albumheader")
	.on("click", ".lib-heading", (function(e) {
		LIB.albumClicked = !1, LIB.filters.albums.length = 0, UI.libPos[0] = -2, UI.libPos[1] = -2, clickedLibItem(e, void 0, LIB.filters.albums, renderAlbums), storeLibPos(UI.libPos)
	})), $("#genresList")
	.on("click", ".lib-entry", (function(e) {
		var t = $("#genresList .lib-entry")
			.index(this);
		LIB.artistClicked = !1, LIB.albumClicked = !1, LIB.filters.artists.length = 0, LIB.filters.albums.length = 0, UI.libPos[0] = -1, storeLibPos(UI.libPos), clickedLibItem(e, allGenres[t], LIB.filters.genres, renderGenres), setLibMenuAndHeader()
	})), $("#artistsList")
	.on("click", ".lib-entry", (function(e) {
		var t = $("#artistsList .lib-entry")
			.index(this);
		UI.libPos[0] = -1, UI.libPos[2] = t, LIB.filters.albums.length = 0, storeLibPos(UI.libPos), LIB.artistClicked = !0, LIB.albumClicked = !1, clickedLibItem(e, filteredArtists[t], LIB.filters.artists, renderArtists), UI.mobile && $("#top-columns")
			.animate({
				left: "-50%"
			}, 200), setLibMenuAndHeader()
	})), $("#albumsList")
	.on("click", ".lib-entry", (function(e) {
		var t = $("#albumsList .lib-entry")
			.index(this);
		LIB.albumClicked = !0, UI.libPos[0] = t, UI.libPos[1] = filteredAlbumCovers.map((function(e) {
				return e.key
			}))
			.indexOf(filteredAlbums[t].key);
		var r = filteredAlbums[t],
			i = filteredAlbums[t].album,
			s = this.className.includes("active");
		if (storeLibPos(UI.libPos), $("#albumsList .lib-entry")
			.removeClass("active"), $("#albumsList .lib-entry")
			.eq(t)
			.addClass("active"), s && LIB.filters.artists.length && !LIB.filters.artists.includes(r.album_artist))
			if ("Yes" == miscLibOptions[2]) {
				var l = allSongs.filter(e => e.key === r.key);
				if (filteredSongs.length < l.length) {
					var a = l.map(e => e.album_artist),
						n = LIB.filters.artists.length;
					a.forEach(e => !LIB.filters.artists.includes(e) && LIB.filters.artists.push(e)), filterSongs(), LIB.filters.artists = LIB.filters.artists.slice(0, n), filteredSongs.sort((e, t) => e.tracknum - t.tracknum)
						.sort((e, t) => e.disc - t.disc), renderSongs()
				} else filterSongs(), renderSongs()
			} else {
				var o = filteredSongs.map((function(e) {
						return e.artist
					})),
					d = !1,
					c = [];
				LIB.filters.artists.forEach(e => {
					c = c.concat(e)
				});
				for (let e of o) {
					var m = 0;
					for (let t of c) e.includes(t) && m++;
					if (0 == m) {
						d = !0;
						break
					}
				}
				d ? (filterSongs(), renderSongs()) : (LIB.filters.artists.push(r.album_artist), filterSongs(), LIB.filters.artists.pop(), renderSongs())
			}
		else clickedLibItem(e, keyAlbum(r), LIB.filters.albums, renderSongs);
		$("#bottom-row")
			.css("display", "flex"), $("#lib-file")
			.scrollTo(0, 200), UI.libAlbum = i
	})), $("#random-album")
	.click((function(e) {
		$("#albumsList .lib-entry")
			.eq(UI.libPos[0])
			.removeClass("active"), $("#albumcovers .lib-entry")
			.eq(UI.libPos[1])
			.removeClass("active");
		var t = new Uint16Array(1);
		if (LIB.albumClicked = !0, window.crypto.getRandomValues(t), pos = Math.floor(t[0] / 65535 * filteredAlbums.length), "tag" == currentView) {
			var r = "#albumsList .lib-entry",
				i = "albums";
			UI.libPos[0] = pos, UI.libPos[1] = filteredAlbumCovers.map((function(e) {
					return e.key
				}))
				.indexOf(filteredAlbums[pos].key);
			var s = filteredAlbums[pos]
		} else {
			r = "#albumcovers .lib-entry", i = "albumcovers";
			UI.libPos[0] = filteredAlbums.map((function(e) {
					return e.key
				}))
				.indexOf(filteredAlbumCovers[pos].key), UI.libPos[1] = pos;
			s = filteredAlbumCovers[pos]
		}
		storeLibPos(UI.libPos), $(r)
			.eq(pos)
			.addClass("active"), customScroll(i, pos, 0), clickedLibItem(e, keyAlbum(s), LIB.filters.albums, renderSongs)
	})), $("#albumcovers")
	.on("click", ".cover-menu", (function(e) {
		var t = $(this)
			.parents("li")
			.index();
		LIB.albumClicked = !0, $("#albumcovers .lib-entry")
			.eq(UI.libPos[1])
			.removeClass("active"), $("#tracklist-toggle")
			.show(), $("#one-touch-action-li")
			.hide(), UI.libPos[0] = filteredAlbums.map((function(e) {
				return e.key
			}))
			.indexOf(filteredAlbumCovers[t].key), UI.libPos[1] = t, storeLibPos(UI.libPos), $("#albumcovers .lib-entry")
			.eq(UI.libPos[1])
			.addClass("active"), clickedLibItem(e, keyAlbum(filteredAlbumCovers[t]), LIB.filters.albums, renderSongs)
	})), $("#albumcovers")
	.on("click", "img", (function(e) {
		var t = $(this)
			.parents("li")
			.index(),
			r = t != UI.libPos[1];
		LIB.albumClicked = !0, $("#albumcovers .lib-entry")
			.eq(UI.libPos[1])
			.removeClass("active"), UI.libPos[0] = filteredAlbums.map((function(e) {
				return e.key
			}))
			.indexOf(filteredAlbumCovers[t].key), UI.libPos[1] = t, storeLibPos(UI.libPos), $("#albumcovers .lib-entry")
			.eq(UI.libPos[1])
			.addClass("active"), clickedLibItem(e, keyAlbum(filteredAlbumCovers[t]), LIB.filters.albums, renderSongs);
		var i = [];
		for (var s in filteredSongs) i.push(filteredSongs[s].file);
		if ("No action" != SESSION.json.library_onetouch_album)
			if ("Add" == SESSION.json.library_onetouch_album || "Add next" == SESSION.json.library_onetouch_album) {
				var l = "Add" == SESSION.json.library_onetouch_album ? "add_group" : "add_group_next";
				sendQueueCmd(l, i), notify(l)
			} else if ("Play" == SESSION.json.library_onetouch_album || "Play next" == SESSION.json.library_onetouch_album) {
			l = "Play" == SESSION.json.library_onetouch_album ? "play_group" : "play_group_next";
			sendQueueCmd(l, i)
		} else "Clear/Play" == SESSION.json.library_onetouch_album ? (sendQueueCmd("clear_play_group", i), notify("clear_play_group")) : "Show tracks" == SESSION.json.library_onetouch_album && showHideTracks(r)
	})), $(".ralbum")
	.click((function(e) {
		if ("No action" != SESSION.json.library_onetouch_album) {
			$("#albumsList .lib-entry")
				.eq(UI.libPos[0])
				.removeClass("active"), $("#albumcovers .lib-entry")
				.eq(UI.libPos[1])
				.removeClass("active"), $(".ralbum svg")
				.attr("class", "spin"), setTimeout((function() {
					$(".ralbum svg")
						.attr("class", "")
				}), RALBUM_TIMEOUT);
			var t = new Uint16Array(1);
			LIB.albumClicked = !0, window.crypto.getRandomValues(t), pos = Math.floor(t[0] / 65535 * filteredAlbums.length), UI.libPos[0] = pos, UI.libPos[1] = filteredAlbumCovers.map((function(e) {
					return e.key
				}))
				.indexOf(filteredAlbums[pos].key), clickedLibItem(e, keyAlbum(filteredAlbums[pos]), LIB.filters.albums, renderSongs);
			var r = [];
			for (var i in filteredSongs) r.push(filteredSongs[i].file);
			if ("Add" == SESSION.json.library_onetouch_album || "Add next" == SESSION.json.library_onetouch_album) {
				var s = "Add" == SESSION.json.library_onetouch_album ? "add_group" : "add_group_next";
				sendQueueCmd(s, r), notify(s)
			} else if ("Play" == SESSION.json.library_onetouch_album || "Play next" == SESSION.json.library_onetouch_album || "Show tracks" == SESSION.json.library_onetouch_album) {
				s = "Play" == SESSION.json.library_onetouch_album || "Show tracks" == SESSION.json.library_onetouch_album ? "play_group" : "play_group_next";
				sendQueueCmd(s, r)
			} else "Clear/Play" == SESSION.json.library_onetouch_album && sendQueueCmd("clear_play_group", r);
			storeLibPos(UI.libPos)
		}
	})), $("#database-radio")
	.on("click", "img", (function(e) {
		var t = $(this)
			.parents("li")
			.index(),
			r = $(this)
			.parents("li")
			.data("path");
		if (UI.radioPos = t, storeRadioPos(UI.radioPos), "ra-" == UI.dbEntry[3].substr(0, 3) && $("#" + UI.dbEntry[3])
			.removeClass("active"), UI.dbEntry[3] = $(this)
			.parents("li")
			.attr("id"), $(this)
			.parents("li")
			.addClass("active"), "No action" != SESSION.json.library_onetouch_radio)
			if ("Add" == SESSION.json.library_onetouch_radio || "Add next" == SESSION.json.library_onetouch_radio) {
				var i = "Add" == SESSION.json.library_onetouch_radio ? "add_item" : "add_item_next";
				sendQueueCmd(i, r), notify(i)
			} else if ("Play" == SESSION.json.library_onetouch_radio || "Play next" == SESSION.json.library_onetouch_radio) {
			i = "Play" == SESSION.json.library_onetouch_radio ? "play_item" : "play_item_next";
			sendQueueCmd(i, r)
		} else "Clear/Play" == SESSION.json.library_onetouch_radio && (sendQueueCmd("clear_play_item", r), notify("clear_play_item"));
		setTimeout((function() {
			customScroll("radio", UI.radioPos + 1, 200)
		}), DEFAULT_TIMEOUT)
	})), $("#btn-ra-manager")
	.click((function(e) {
		var t = SESSION.json.radioview_sort_group.split(","),
			r = SESSION.json.radioview_show_hide.split(",");
		if ($("#radioview-sort-tag span")
			.text(t[0]), $("#radioview-group-method span")
			.text(t[1]), $("#radioview-show-hide-moode span")
			.text(r[0]), $("#radioview-show-hide-other span")
			.text(r[1]), $("#import-export-msg")
			.text(""), SESSION.json.feat_bitmask & FEAT_RECORDER) {
			if ("Not installed" == SESSION.json.recorder_status) var i = '<li class="modal-dropdown-text"><a href="#notarget" data-cmd="recorder-status-sel"><span class="text"></span></a></li><li class="modal-dropdown-text"><a href="#notarget" data-cmd="recorder-status-sel"><span class="text"></span></a></li>';
			else i = '<li class="modal-dropdown-text"><a href="#notarget" data-cmd="recorder-status-sel"><span class="text"></span></a></li><li class="modal-dropdown-text"><a href="#notarget" data-cmd="recorder-status-sel"><span class="text"></span></a></li><li class="modal-dropdown-text"><a href="#notarget" data-cmd="recorder-status-sel"><span class="text"></span></a></li>';
			$("#recorder-status-list")
				.html(i), $("#recorder-status span")
				.text(SESSION.json.recorder_status), $.getJSON("command/recorder_cmd.php?cmd=recorder_storage_paths", (function(e) {
					$("#recorder-storage-list")
						.html(e), $("#recorder-storage span")
						.text(SESSION.json.recorder_storage)
				})), $.getJSON("command/recorder_cmd.php?cmd=recorder_album_tag_list", (function(e) {
					$("#recorder-album-tag-list")
						.html(e), $("#recorder-album-tag span")
						.text(SESSION.json.recorder_album_tag), $("#selected-album-tag")
						.text(SESSION.json.recorder_album_tag)
				})), $.getJSON("command/recorder_cmd.php?cmd=recorder_untagged_file_count", (function(e) {
					$("#untagged-file-count")
						.text(e)
				})), $("#radio-manager-modal")
				.modal()
		} else $("#radio-manager-modal")
			.modal()
	})), $("#btn-upd-radio-manager")
	.click((function(e) {
		if (SESSION.json.radioview_sort_group = $("#radioview-sort-tag span")
			.text() + "," + $("#radioview-group-method span")
			.text(), SESSION.json.radioview_show_hide = $("#radioview-show-hide-moode span")
			.text() + "," + $("#radioview-show-hide-other span")
			.text(), SESSION.json.feat_bitmask & FEAT_RECORDER) {
			var t = $("#recorder-status span")
				.text(),
				r = SESSION.json.recorder_status != t,
				i = SESSION.json.recorder_storage != $("#recorder-storage span")
				.text();
			SESSION.json.recorder_status = "Install recorder" == $("#recorder-status span")
				.text() || !0 === i ? "Off" : $("#recorder-status span")
				.text(), SESSION.json.recorder_storage = $("#recorder-storage span")
				.text(), SESSION.json.recorder_album_tag = $("#recorder-album-tag span")
				.text()
		}
		$.post("command/cfg-table.php?cmd=upd_cfg_system", {
			radioview_sort_group: SESSION.json.radioview_sort_group,
			radioview_show_hide: SESSION.json.radioview_show_hide,
			recorder_status: SESSION.json.recorder_status,
			recorder_storage: SESSION.json.recorder_storage,
			recorder_album_tag: SESSION.json.recorder_album_tag
		}, (function() {
			"Install recorder" == t ? $.ajax({
					type: "GET",
					url: "command/recorder_cmd.php?cmd=recorder_install",
					dataType: "json",
					async: !0,
					cache: !1,
					success: function(e) {
						"recorder_installed" == e ? ($("#stream-recorder-options, #context-menu-stream-recorder")
							.show(), $.post("command/cfg-table.php?cmd=upd_cfg_system", {
								recorder_storage: "/mnt/SDCARD"
							}), notify(e, "", "5_seconds")) : notify(e)
					},
					error: function() {
						SESSION.json.recorder_status = "Not installed", $.post("command/cfg-table.php?cmd=upd_cfg_system", {
							recorder_status: "Not installed"
						}), notify("recorder_plugin_na")
					}
				}) : "Uninstall recorder" == t ? ($.post("command/recorder_cmd.php?cmd=recorder_uninstall"), $("#stream-recorder-options, #context-menu-stream-recorder")
					.hide(), notify("recorder_uninstalled", "", "5_seconds")) : !0 === i ? ($.post("command/recorder_cmd.php?cmd=recorder_storage_change"), $(".playback-context-menu i")
					.removeClass("recorder-on"), $("#menu-check-recorder")
					.css("display", "none"), notify("settings_updated")) : !r || "On" != t && "Off" != t ? "Yes" == $("#delete-recordings span")
				.text() ? ($("#delete-recordings span")
					.text("No"), $.post("command/recorder_cmd.php?cmd=recorder_delete_files", (function() {
						notify("recorder_deleted", "Updating library...")
					}))) : "Yes" == $("#tag-recordings span")
				.text() ? (notify("recorder_tagging", "Wait until completion message appears", "infinite"), $("#tag-recordings span")
					.text("No"), $.post("command/recorder_cmd.php?cmd=recorder_tag_files", (function() {
						notify("recorder_tagged", "Updating library...", "5_seconds")
					}))) : (notify("settings_updated"), setTimeout((function() {
					$("#btn-ra-refresh")
						.click()
				}), DEFAULT_TIMEOUT)) : ($.post("command/recorder_cmd.php?cmd=recorder_on_off"), "On" == t ? ($(".playback-context-menu i")
					.addClass("recorder-on"), $("#menu-check-recorder")
					.css("display", "inline")) : ($(".playback-context-menu i")
					.removeClass("recorder-on"), $("#menu-check-recorder")
					.css("display", "none")), notify("settings_updated"))
		}))
	})), $("#database-playlist")
	.on("click", "img", (function(e) {
		var t = $(this)
			.parents("li")
			.index(),
			r = $(this)
			.parents("li")
			.data("path");
		if (UI.playlistPos = t, storePlaylistPos(UI.playlistPos), "pl-entry-" == UI.dbEntry[3].substr(0, 9) && $("#" + UI.dbEntry[3])
			.removeClass("active"), UI.dbEntry[3] = $(this)
			.parents("li")
			.attr("id"), $(this)
			.parents("li")
			.addClass("active"), "No action" != SESSION.json.library_onetouch_pl)
			if ("Add" == SESSION.json.library_onetouch_pl || "Add next" == SESSION.json.library_onetouch_pl) {
				var i = "Add" == SESSION.json.library_onetouch_pl ? "add_item" : "add_item_next";
				sendQueueCmd(i, r), notify(i)
			} else if ("Play" == SESSION.json.library_onetouch_pl || "Play next" == SESSION.json.library_onetouch_pl) {
			i = "Play" == SESSION.json.library_onetouch_pl ? "play_item" : "play_item_next";
			sendQueueCmd(i, r)
		} else "Clear/Play" == SESSION.json.library_onetouch_pl && (sendQueueCmd("clear_play_item", r), notify("clear_play_item"));
		setTimeout((function() {
			customScroll("playlist", UI.playlistPos + 1, 200)
		}), DEFAULT_TIMEOUT)
	})), $("#btn-pl-manager")
	.click((function(e) {
		var t = SESSION.json.plview_sort_group.split(",");
		$("#plview-sort-tag span")
			.text(t[0]), $("#plview-group-method span")
			.text(t[1]), $("#playlist-manager-modal")
			.modal()
	})), $("#btn-upd-playlist-manager")
	.click((function(e) {
		SESSION.json.plview_sort_group = $("#plview-sort-tag span")
			.text() + "," + $("#plview-group-method span")
			.text(), $.post("command/cfg-table.php?cmd=upd_cfg_system", {
				plview_sort_group: SESSION.json.plview_sort_group
			}, (function() {
				notify("settings_updated"), setTimeout((function() {
					$("#btn-pl-refresh")
						.click()
				}), DEFAULT_TIMEOUT)
			}))
	})), $("#lib-coverart-img")
	.click((function(e) {
		UI.dbEntry[0] = $.isNumeric(UI.dbEntry[0]) ? UI.dbEntry[0] : 0, $("#songsList li, #songsList .lib-disc a")
			.removeClass("active"), $("img.lib-coverart")
			.addClass("active"), $("#tracklist-toggle")
			.hide(), $("#one-touch-action-li")
			.show()
	})), $("#songsList")
	.on("click", ".lib-disc", (function(e) {
		$("img.lib-coverart, #songsList li, #songsList .lib-disc a")
			.removeClass("active");
		var t = $(this)
			.text()
			.split(" ");
		$("#lib-disc-" + t[1] + " a")
			.addClass("active");
		var r = $(this)
			.attr("heading-album"),
			i = $(this)
			.attr("heading-disc"),
			s = $(this)
			.attr("heading-comment"),
			l = $(this)
			.attr("heading-key");
		for (var a in filteredSongsDisc.length = 0, filteredSongs) {
			var n = filteredSongs[a].album == r && filteredSongs[a].disc == i;
			"Yes" == miscLibOptions[0] ? n &= "" == s || filteredSongs[a].comment == s : "Yes" == miscLibOptions[1] && (n &= "0" == l || filteredSongs[a].mb_albumid == l), n && filteredSongsDisc.push(filteredSongs[a])
		}
	})), $("#songsList")
	.on("click", ".lib-album-heading", (function(e) {
		$("img.lib-coverart, #songsList li, #songsList .lib-disc a")
			.removeClass("active");
		var t = $(this)
			.attr("id")
			.split("-");
		$("#lib-album-" + t[2] + " a")
			.addClass("active");
		$(this)
			.text();
		var r = $(this)
			.attr("heading-album"),
			i = $(this)
			.attr("heading-comment"),
			s = $(this)
			.attr("heading-mb-album-id");
		for (var l in filteredSongsAlbum.length = 0, filteredSongs) {
			var a = filteredSongs[l].album == r;
			"Yes" == miscLibOptions[0] ? a &= "" == i || filteredSongs[l].comment == i : "Yes" == miscLibOptions[1] && (a &= "0" == s || filteredSongs[l].mb_albumid == s), a && filteredSongsAlbum.push(filteredSongs[l])
		}
	})), $("#songsList")
	.on("click", ".lib-track", (function(e) {
		UI.dbEntry[0] = $("#songsList .lib-track")
			.index(this), $("#songsList li, #songsList .lib-disc a")
			.removeClass("active"), $(this)
			.addClass("active"), "Track" == SESSION.json.library_track_play ? ($("#play-track")
				.html(' <i class="fal fa-play sx"></i>'), $("#clear-play-track")
				.html(' <i class="fal fa-chevron-square-right sx"></i>/')) : ($("#play-track")
				.html(' <i class="fal fa-play sx"></i>+'), $("#clear-play-track")
				.html(' <i class="fal fa-chevron-square-right sx"></i>/+'))
	})), $("#playlist-items")
	.on("click", ".pl-item", (function(e) {
		UI.dbEntry[0] = $("#playlist-items .pl-item")
			.index(this), $("#playlist-items li")
			.removeClass("active"), $("#pl-item-" + (UI.dbEntry[0] + 1)
				.toString())
			.addClass("active")
	})), $("#playlist-names")
	.on("click", ".pl-name", (function(e) {
		UI.dbEntry[0] = $("#playlist-names .pl-name")
			.index(this), $("#playlist-names li")
			.removeClass("active"), $("#pl-name-" + (UI.dbEntry[0] + 1)
				.toString())
			.addClass("active")
	})), $("#addto-playlist-name-new")
	.click((function(e) {
		$("#pl-name-" + (UI.dbEntry[0] + 1)
				.toString())
			.removeClass("active")
	})), $("#btn-add-to-playlist")
	.click((function(e) {
		var t = $("#addto-playlist-name-new")
			.val()
			.trim();
		if ("" == t) {
			var r = "";
			$("#playlist-names li")
				.each((function() {
					$(this)
						.hasClass("active") && (r = $(this)
							.text())
				}))
		} else r = t;
		if ("" == r) notify("select_playlist");
		else {
			var i = {
				playlist: r,
				items: UI.dbEntry[4]
			};
			notify("updating_playlist"), $.post("command/playlist.php?cmd=add_to_playlist", {
					path: i
				}, (function() {
					notify("add_to_playlist"), $("#btn-pl-refresh")
						.click()
				}), "json"), $("#playlist-names li")
				.removeClass("active"), UI.dbEntry[4] = ""
		}
	})), $("#context-menu-playback a")
	.click((function(e) {
		switch ($(this)
			.data("cmd")) {
			case "save_queue_to_playlist":
				$("#save-queue-to-playlist-modal")
					.modal();
				break;
			case "set_favorites_name":
				$.getJSON("command/playlist.php?cmd=get_favorites_name", (function(e) {
					$("#playlist-favorites-name")
						.val(e), $("#set-favorites-playlist-modal")
						.modal()
				}));
				break;
			case "toggle_song":
				sendMpdCmd("playid " + toggleSongId);
				break;
			case "consume":
				$("#menu-check-consume")
					.toggle();
				var t = $(".consume")
					.hasClass("btn-primary") ? "0" : "1";
				$(".consume")
					.toggleClass("btn-primary"), sendMpdCmd("consume " + t);
				break;
			case "repeat":
				$("#menu-check-repeat")
					.toggle();
				t = $(".repeat")
					.hasClass("btn-primary") ? "0" : "1";
				$(".repeat")
					.toggleClass("btn-primary"), sendMpdCmd("repeat " + t);
				break;
			case "single":
				$("#menu-check-single")
					.toggle();
				t = $(".single")
					.hasClass("btn-primary") ? "0" : "1";
				$(".single")
					.toggleClass("btn-primary"), sendMpdCmd("single " + t);
				break;
			case "clear":
				sendMpdCmd("clear"), $("#playlist-save-name")
					.val("");
				break;
			case "stream_recorder":
				$("#menu-check-recorder")
					.toggle(), "block" == $("#menu-check-recorder")
					.css("display") ? (SESSION.json.recorder_status = "On", $(".playback-context-menu i")
						.addClass("recorder-on")) : (SESSION.json.recorder_status = "Off", $(".playback-context-menu i")
						.removeClass("recorder-on")), $.post("command/cfg-table.php?cmd=upd_cfg_system", {
						recorder_status: SESSION.json.recorder_status
					}, (function() {
						$.post("command/recorder_cmd.php?cmd=recorder_on_off")
					}))
		}
	})), $("#context-menu-lib-item a")
	.click((function(e) {
		switch ($("#lib-song-" + (UI.dbEntry[0] + 1)
				.toString())
			.removeClass("active"), $("img.lib-coverart")
			.removeClass("active"), $(this)
			.data("cmd")) {
			case "add_item":
			case "add_item_next":
				sendQueueCmd($(this)
					.data("cmd"), filteredSongs[UI.dbEntry[0]].file), notify("add_item");
				break;
			case "play_item":
			case "play_item_next":
				if ("Track" == SESSION.json.library_track_play) var t = $(this)
					.data("cmd"),
					r = filteredSongs[UI.dbEntry[0]].file;
				else {
					t = "play_item" == $(this)
						.data("cmd") ? "play_group" : "play_group_next", r = [];
					for (i = UI.dbEntry[0]; i < filteredSongs.length; i++) r.push(filteredSongs[i].file)
				}
				sendQueueCmd(t, r);
				break;
			case "clear_play_item":
				if ("Track" == SESSION.json.library_track_play) t = $(this)
					.data("cmd"), r = filteredSongs[UI.dbEntry[0]].file;
				else {
					t = "clear_play_group", r = [];
					for (i = UI.dbEntry[0]; i < filteredSongs.length; i++) r.push(filteredSongs[i].file)
				}
				sendQueueCmd(t, r), notify(t), $("#playlist-save-name")
					.val("");
				break;
			case "track_info_lib":
				audioInfo("track_info", filteredSongs[UI.dbEntry[0]].file);
				break;
			case "get_playlist_names":
				renderPlaylistNames({
						name: filteredSongs[UI.dbEntry[0]].title,
						files: [filteredSongs[UI.dbEntry[0]].file]
					}), $("#addto-playlist-name-new")
					.val(""), $("#add-to-playlist-modal")
					.modal()
		}
	})), $("#context-menu-lib-album a")
	.click((function(e) {
		UI.dbEntry[0] = $.isNumeric(UI.dbEntry[0]) ? UI.dbEntry[0] : 0, $(".album-view-button")
			.hasClass("active") || ($("#lib-song-" + (UI.dbEntry[0] + 1)
					.toString())
				.removeClass("active"), $("img.lib-coverart")
				.removeClass("active"));
		var t = [];
		for (i = 0; i < filteredAlbums.length; i++)
			for (j = 0; j < filteredSongs.length; j++) filteredSongs[j].key == filteredAlbums[i].key && t.push(filteredSongs[j].file);
		switch ($(this)
			.data("cmd")) {
			case "add_group":
			case "add_group_next":
				sendQueueCmd($(this)
					.data("cmd"), t), notify($(this)
					.data("cmd"));
				break;
			case "play_group":
			case "play_group_next":
				sendQueueCmd($(this)
					.data("cmd"), t);
				break;
			case "clear_play_group":
				sendQueueCmd("clear_play_group", t), notify($(this)
					.data("cmd"));
				break;
			case "tracklist":
				showHideTracks(!1);
				break;
			case "get_playlist_names":
				var r = "" == $("#tagview-text-cover")
					.text() ? filteredSongs[0].album : $("#tagview-text-cover")
					.text();
				renderPlaylistNames({
						name: r,
						files: t
					}), $("#addto-playlist-name-new")
					.val(""), $("#add-to-playlist-modal")
					.modal()
		}
	})), $("#context-menu-lib-disc a")
	.click((function(e) {
		$("#songsList .lib-disc a")
			.removeClass("active");
		var t = [];
		for (var r in filteredSongsDisc) t.push(filteredSongsDisc[r].file);
		switch ($(this)
			.data("cmd")) {
			case "add_group":
				sendQueueCmd("add_group", t), notify($(this)
					.data("cmd"));
				break;
			case "play_group":
				sendQueueCmd("play_group", t);
				break;
			case "clear_play_group":
				sendQueueCmd("clear_play_group", t), notify($(this)
					.data("cmd"));
				break;
			case "get_playlist_names":
				renderPlaylistNames({
						name: filteredSongsDisc[0].album,
						files: t
					}), $("#addto-playlist-name-new")
					.val(""), $("#add-to-playlist-modal")
					.modal()
		}
	})), $("#context-menu-lib-album-heading a")
	.click((function(e) {
		$("#songsList .lib-album-heading a")
			.removeClass("active");
		var t = [];
		for (var r in filteredSongsAlbum) t.push(filteredSongsAlbum[r].file);
		switch ($(this)
			.data("cmd")) {
			case "add_group":
				sendQueueCmd("add_group", t), notify($(this)
					.data("cmd"));
				break;
			case "play_group":
				sendQueueCmd("play_group", t);
				break;
			case "clear_play_group":
				sendQueueCmd("clear_play_group", t), notify($(this)
					.data("cmd"));
				break;
			case "get_playlist_names":
				renderPlaylistNames({
						name: filteredSongsAlbum[0].album,
						files: t
					}), $("#addto-playlist-name-new")
					.val(""), $("#add-to-playlist-modal")
					.modal()
		}
	}));


jQuery(document)
	.ready((function(e) {
		"use strict";
		null != window.ui_notify && ui_notify(), GLOBAL.scriptSection = "panels", e("#config-back")
			.hide(), e("#config-tabs")
			.css("display", "none"), e("#panel-footer")
			.css("display", "flex"), document.addEventListener("visibilitychange", (function() {
				"visible" == document.visibilityState && sendMpdCmd("subscribe dumy_channel")
			})), e(window)
			.bind("resize", (function(t) {
				UI.mobile = e(window)
					.width() <= 480, getThumbHW()
			})), e("meta[name=viewport]")
			.attr("content", "height=" + e(window)
				.height() + ", width=" + e(window)
				.width() + ", initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"), e.post("command/cfg-table.php?cmd=upd_cfg_system", {
				library_pixelratio: window.devicePixelRatio
			});
		var t = e("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>")
			.appendTo("body");
		GLOBAL.sbw = t.width() - t[0].clientWidth, e("body")
			.get(0)
			.style.setProperty("--sbw", GLOBAL.sbw + "px"), GLOBAL.sbw && e("body")
			.addClass("custom-scrollbars"), e.getJSON("command/cfg-table.php?cmd=get_cfg_tables", (function(t) {
				SESSION.json = t.cfg_system, THEME.json = t.cfg_theme, RADIO.json = t.cfg_radio, "loading" in HTMLImageElement.prototype && "Yes" == SESSION.json.native_lazyload && (GLOBAL.nativeLazyLoad = !0), "viewport" == SESSION.json.pkgid_suffix && notify("viewport", window.innerWidth + "x" + window.innerHeight, "10_seconds"), currentView = SESSION.json.current_view, UI.mobile = e(window)
					.width() < 480, getThumbHW(), loadLibrary(), renderRadioView(), renderPlaylistView(), e.getJSON("command/music-library.php?cmd=lsinfo", {
						path: ""
					}, (function(e) {
						renderFolderView(e, "")
					})), UI.radioPos = parseInt(SESSION.json.radio_pos), UI.playlistPos = parseInt(SESSION.json.playlist_pos);
				var a = SESSION.json.lib_pos.split(",");
				UI.libPos[0] = parseInt(a[0]), UI.libPos[1] = parseInt(a[1]), UI.libPos[2] = parseInt(a[2]), e("#volume, #volume-2")
					.attr("data-max", SESSION.json.volume_mpd_max), GLOBAL.mpdMaxVolume = parseInt(SESSION.json.volume_mpd_max), setFontSize();
				var s = SESSION.json.first_use_help.split(",");

				function o(t) {
					t.forEach((function(t) {
						e("#alpha-blend span")
							.text() < 1 ? e("#cover-options")
							.show() : e("#cover-options")
							.css("display", "")
					}))
				}
				if ("y" == s[0] && e("#playback-firstuse-help")
					.css("display", "block"), "y" == s[1] && e("#playbar-firstuse-help")
					.css("display", "block"), "None" != SESSION.json.library_ignore_articles && (GLOBAL.regExIgnoreArticles = new RegExp("^(" + SESSION.json.library_ignore_articles.split(",")
						.join("|") + ") (.*)", "gi")), "ontouchstart" in window || navigator.msMaxTouchPoints || e("body")
					.addClass("no-touch"), themeColor = str2hex(THEME.json[SESSION.json.themename].tx_color), themeBack = "rgba(" + THEME.json[SESSION.json.themename].bg_color + "," + SESSION.json.alphablend + ")", themeMcolor = str2hex(THEME.json[SESSION.json.themename].tx_color), "No" == SESSION.json.adaptive && document.body.style.setProperty("--adaptmbg", themeBack), 1 == blurrr ? themeOp = .85 : themeOp = .95, jQuery(document)
					.ready((function() {
						var e = document.querySelector("#alpha-blend span");
						new MutationObserver(o)
							.observe(e, {
								characterData: !0,
								attributes: !1,
								childList: !0,
								subtree: !1
							})
					})), tempcolor = THEME.json[SESSION.json.themename].mbg_color.split(","), themeMback = "rgba(" + tempcolor[0] + "," + tempcolor[1] + "," + tempcolor[2] + "," + themeOp + ")", accentColor = themeToColors(SESSION.json.accent_color), document.body.style.setProperty("--themetext", themeMcolor), adaptColor = themeColor, adaptBack = themeBack, adaptMhalf = themeMback, adaptMcolor = themeMcolor, adaptMback = themeMback, tempback = themeMback, abFound = !1, showMenuTopW = !1, showMenuTopR = !1, setColors(), e(".ralbum")
					.html('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M475.31 364.144L288 256l187.31-108.144c5.74-3.314 7.706-10.653 4.392-16.392l-4-6.928c-3.314-5.74-10.653-7.706-16.392-4.392L272 228.287V12c0-6.627-5.373-12-12-12h-8c-6.627 0-12 5.373-12 12v216.287L52.69 120.144c-5.74-3.314-13.079-1.347-16.392 4.392l-4 6.928c-3.314 5.74-1.347 13.079 4.392 16.392L224 256 36.69 364.144c-5.74 3.314-7.706 10.653-4.392 16.392l4 6.928c3.314 5.74 10.653 7.706 16.392 4.392L240 283.713V500c0 6.627 5.373 12 12 12h8c6.627 0 12-5.373 12-12V283.713l187.31 108.143c5.74 3.314 13.079 1.347 16.392-4.392l4-6.928c3.314-5.74 1.347-13.079-4.392-16.392z"/></svg>'), engineMpd(), engineCmd(), e.getJSON("command/system.php?cmd=get_client_ip", (function(e) {
						GLOBAL.thisClientIP = e, debugLog("This client IP: " + GLOBAL.thisClientIP)
					})), e.pnotify.defaults.history = !1, UI.mobile || e("#playbtns, #togglebtns")
					.show(), "Animated" == SESSION.json.scnsaver_style ? (e("#ss-style")
						.css("background", ""), e("#ss-style, #ss-backdrop")
						.css("display", ""), e("#ss-style")
						.css("animation", "colors2 60s infinite")) : "Theme" == SESSION.json.scnsaver_style ? e("#ss-style, #ss-backdrop")
					.css("display", "none") : (e("#ss-style")
						.css("animation", "initial"), e("#ss-style, #ss-backdrop")
						.css("display", ""), "Gradient (Linear)" == SESSION.json.scnsaver_style ? e("#ss-style")
						.css("background", "linear-gradient(to bottom, rgba(0,0,0,0.15) 0%,rgba(0,0,0,0.60) 25%,rgba(0,0,0,0.75) 40%, rgba(0,0,0,.8) 60%, rgba(0,0,0,.9) 100%)") : "Gradient (Radial)" == SESSION.json.scnsaver_style ? e("#ss-style")
						.css("background", "radial-gradient(circle at 50% center, rgba(64, 64, 64, .5) 5%, rgba(0, 0, 0, .85) 60%)") : "Pure Black" == SESSION.json.scnsaver_style && e("#ss-style")
						.css("background", "rgba(0,0,0,1)")), "Wide" == SESSION.json.scnsaver_layout && (e("body")
						.addClass("cvwide"), "Yes" == SESSION.json.scnsaver_xmeta && e("body")
						.addClass("cvwide-xmeta")), "Never" != SESSION.json.scnsaver_timeout && e.post("command/playback.php?cmd=reset_screen_saver"), "Clock Radio" == SESSION.json.clkradio_mode || "Sleep Timer" == SESSION.json.clkradio_mode ? (e("#clockradio-icon")
						.removeClass("clockradio-off"), e("#clockradio-icon")
						.addClass("clockradio-on")) : (e("#clockradio-icon")
						.removeClass("clockradio-on"), e("#clockradio-icon")
						.addClass("clockradio-off")), "none" == SESSION.json.mpdmixer ? (disableVolKnob(), SESSION.json.volknob = "0", SESSION.json.volmute = "0", e.post("command/cfg-table.php?cmd=upd_cfg_system", {
						volknob: "0",
						volmute: "0"
					})) : (e("#volume")
						.val(SESSION.json.volknob), e("#volume-2")
						.val(SESSION.json.volknob), e(".volume-display")
						.css("opacity", ""), e(".volume-display div")
						.text(SESSION.json.volknob)), "Yes" == SESSION.json.playhist ? e("#playhistory-hide")
					.css("display", "block") : e("#playhistory-hide")
					.css("display", "none"), "1" == SESSION.json.btsvc ? e("#bluetooth-hide")
					.css("display", "block") : e("#bluetooth-hide")
					.css("display", "none"), e("#genreheader > div")
					.html(SESSION.json.library_tagview_genre), e("#tagview-header-text")
					.text("Albums" + ("Album" == SESSION.json.library_tagview_sort || "Album/Year" == SESSION.json.library_tagview_sort ? "" : " by " + SESSION.json.library_tagview_sort)), "Album Artist+" == SESSION.json.library_tagview_artist) var i = "Album Artists+";
				else if ("Artist (Strict)" == SESSION.json.library_tagview_artist) i = "Artists (Strict)";
				else i = SESSION.json.library_tagview_artist + "s";
				e("#artistheader > div")
					.html(i), "Year" == SESSION.json.library_albumview_sort && e("#index-albums, #index-albumcovers")
					.hide(), SESSION.json.feat_bitmask & FEAT_RECORDER && (e("#radio-manager-stream-recorder")
						.show(), "Not installed" != SESSION.json.recorder_status && (e("#stream-recorder-options")
							.show(), e("#context-menu-stream-recorder")
							.show(), "On" == SESSION.json.recorder_status ? (e(".playback-context-menu i")
								.addClass("recorder-on"), e("#menu-check-recorder")
								.css("display", "inline")) : (e(".playback-context-menu i")
								.removeClass("recorder-on"), e("#menu-check-recorder")
								.css("display", "none")))), "On" == SESSION.json.multiroom_tx && (e("#context-menu-multiroom-sender")
						.show(), e("#updater-notification")
						.css("left", "54%")), "On" == SESSION.json.updater_auto_check && SESSION.json.updater_available_update.includes("Release") && -1 != currentView.indexOf("playback") && e("#updater-notification")
					.show(), e("#updater-notification")
					.click((function(t) {
						if (SESSION.json.updater_available_update.includes("Release")) {
							var a = SESSION.json.updater_available_update + "<br><br>This notification can be turned off in System Config";
							notify("updater", a, "infinite")
						} else e("#updater-notification")
							.hide()
					})), UI.mobile && "Yes" == SESSION.json.library_show_genres && e((function() {
						e("#top-columns")
							.swipe({
								swipeLeft: function(t, a, s, o, i) {
									e("#top-columns")
										.animate({
											left: "-50%"
										}, 100)
								}
							}), e("#top-columns")
							.swipe({
								swipeRight: function(t, a, s, o, i) {
									e("#top-columns")
										.animate({
											left: "0%"
										}, 100)
								}
							})
					})), e("#folder-panel, #radio-panel")
					.removeClass("active"), -1 != currentView.indexOf("playback") ? (e("#playback-panel")
						.addClass("active"), e(window)
						.scrollTop(0), UI.mobile ? (e("#container-playqueue")
							.css("visibility", "hidden"), e("#playback-controls")
							.show()) : customScroll("playqueue", parseInt(MPD.json.song)), e("#panel-footer")
						.hide(), "On" == SESSION.json.multiroom_tx ? e("#multiroom-sender")
						.show() : e("#multiroom-sender")
						.hide()) : (e("#panel-footer, #viewswitch")
						.css("display", "flex"), e("#playback-switch")
						.hide()), "radio" == currentView ? makeActive(".radio-view-btn", "#radio-panel", currentView) : "folder" == currentView ? makeActive(".folder-view-btn", "#folder-panel", currentView) : "tag" == currentView ? (makeActive(".tag-view-btn", "#library-panel", currentView), "Yes" == SESSION.json.library_show_genres ? e("#top-columns")
						.removeClass("nogenre") : e("#top-columns")
						.addClass("nogenre")) : "album" == currentView ? makeActive(".album-view-btn", "#library-panel", currentView) : "playlist" == currentView && makeActive(".playlist-view-btn", "#playlist-panel", currentView), GLOBAL.chromium && "1" == SESSION.json.localui && "-on" == SESSION.json.toggle_coverview && setTimeout((function() {
						screenSaver("scnactive1")
					}), 8e3), GLOBAL.chromium && "On" == SESSION.json.on_screen_kbd && initializeOSK()
			})), e(".radio-view-btn")
			.click((function(e) {
				makeActive(".radio-view-btn", "#radio-panel", "radio")
			})), e(".playlist-view-btn")
			.click((function(e) {
				makeActive(".playlist-view-btn", "#playlist-panel", "playlist")
			})), e(".folder-view-btn")
			.click((function(e) {
				makeActive(".folder-view-btn", "#folder-panel", "folder")
			})), e(".tag-view-btn")
			.click((function(t) {
				makeActive(".tag-view-btn", "#library-panel", "tag"), "Yes" == SESSION.json.library_show_genres ? e("#top-columns")
					.removeClass("nogenre") : e("#top-columns")
					.addClass("nogenre"), e("#albumsList .lib-entry")
					.removeClass("active"), -2 == UI.libPos[0] ? (e("#lib-album")
						.scrollTo(0, 0), e("#lib-artist")
						.scrollTo(0, 0), UI.libPos[0] = -1, storeLibPos(UI.libPos)) : -3 == UI.libPos[0] && (e("#albumsList .lib-entry")
						.removeClass("active"), e("#lib-album")
						.scrollTo(0, 0), e("#lib-coverart-img")
						.html('<a href="#notarget" data-toggle="context" data-target="#context-menu-lib-album"><img class="lib-coverart" src="' + UI.defCover + '"></a>'), e("#lib-albumname, #lib-artistname, #lib-albumyear, #lib-numtracks, #songsList")
						.html(""), UI.libPos[0] = -1, storeLibPos(UI.libPos))
			})), e(".album-view-btn")
			.click((function(t) {
				e("#library-panel")
					.addClass("covers")
					.removeClass("tag"), GLOBAL.lazyCovers = !1, makeActive(".album-view-btn", "#library-panel", "album"), GLOBAL.libRendered || loadLibrary(), e("#albumcovers .lib-entry")
					.removeClass("active"), -2 != UI.libPos[1] && -3 != UI.libPos[1] || (e("#lib-albumcover")
						.scrollTo(0, 0), UI.libPos[1] = -1, storeLibPos(UI.libPos))
			})), e(".volume-display")
			.on("click", (function(e) {
				if ("none" == SESSION.json.mpdmixer) return !1;
				volMuteSwitch()
			})), e(document)
			.on("click", ".volume-popup-btn", (function(t) {
				"block" == e("#volume-popup")
					.css("display") ? e("#volume-popup")
					.modal("toggle") : ("none" == SESSION.json.mpdmixer && e(".volume-display")
						.css("opacity", ".3"), e("#volume-popup")
						.modal())
			})), e(".play")
			.click((function(t) {
				if ("play" == MPD.json.state)
					if (e("#countdown-display")
						.countdown("pause"), "http" == MPD.json.file.substr(0, 4)
						.toLowerCase()) var a = "Radio station" == MPD.json.artist ? "stop" : "pause";
					else a = "pause";
				else if ("pause" == MPD.json.state) {
					e("#countdown-display")
						.countdown("resume"), customScroll("playqueue", parseInt(MPD.json.song), 200);
					a = "play"
				} else if ("stop" == MPD.json.state) {
					"1" == SESSION.json.timecountup || 0 == parseInt(MPD.json.time) ? e("#countdown-display")
						.countdown({
							since: 0,
							compact: !0,
							format: "hMS",
							layout: "{h<}{hn}{sep}{h>}{mnn}{sep}{snn}"
						}) : e("#countdown-display")
						.countdown({
							until: 0,
							compact: !0,
							format: "hMS",
							layout: "{h<}{hn}{sep}{h>}{mnn}{sep}{snn}"
						}), UI.mobile || customScroll("playqueue", parseInt(MPD.json.song), 200);
					a = "play"
				}
				return window.clearInterval(UI.knob), sendMpdCmd(a), !1
			})), e(".next")
			.click((function(t) {
				var a = e(".playqueue li")
					.length == (parseInt(MPD.json.song) + 1)
					.toString() ? "play 0" : "next";
				return sendMpdCmd(a), !1
			})), e(".prev")
			.click((function(t) {
				e.getJSON("command/playback.php?cmd=get_mpd_status", (function(e) {
					return parseInt(MPD.json.time) > 0 && parseInt(e.elapsed) > 0 ? (window.clearInterval(UI.knob), "pause" != MPD.json.state && sendMpdCmd("pause"), setTimeout((function() {
						sendMpdCmd("seek " + MPD.json.song + " 0")
					}), DEFAULT_TIMEOUT)) : sendMpdCmd("previous"), !1
				}))
			})), e("#volumeup,#volumeup-2")
			.click((function(e) {
				"1" == SESSION.json.volmute && volMuteSwitch();
				var t = parseInt(SESSION.json.volknob),
					a = t < GLOBAL.mpdMaxVolume ? t + 1 : GLOBAL.mpdMaxVolume;
				return setVolume(a, "volume_up"), !1
			})), e("#volumedn,#volumedn-2")
			.click((function(e) {
				"1" == SESSION.json.volmute && volMuteSwitch();
				var t = parseInt(SESSION.json.volknob);
				return setVolume(t > 0 ? t - 1 : 0, "volune_down"), !1
			})), e(".btn-toggle")
			.click((function(t) {
				var a = e(this)
					.data("cmd"),
					s = e(this)
					.hasClass("btn-primary") ? "0" : "1";
				"random" == a && "1" == SESSION.json.ashufflesvc ? (e.post("command/playback.php?cmd=toggle_ashuffle", {
						toggle_value: s
					}), e(".random")
					.toggleClass("btn-primary"), e(".consume")
					.toggleClass("btn-primary"), sendMpdCmd("consume " + s)) : ("consume" == a && e("#menu-check-consume")
					.toggle(), e("." + a)
					.toggleClass("btn-primary"), sendMpdCmd(a + " " + s))
			})), e(".playbackknob")
			.knob({
				configure: {
					fgColor: accentColor
				},
				inline: !1,
				change: function(t) {
					if ("stop" != MPD.json.state) {
						window.clearInterval(UI.knob);
						var a = Math.floor(t * parseInt(MPD.json.time) / 1e3);
						"1" == SESSION.json.timecountup || 0 == parseInt(MPD.json.time) ? e("#countdown-display")
							.html(formatSongTime(a)) : e("#countdown-display")
							.html(formatSongTime(parseInt(MPD.json.time) - a))
					} else e("#time")
						.val(0);
					UI.knobPainted = !1
				},
				release: function(t) {
					if ("stop" != MPD.json.state) {
						window.clearInterval(UI.knob);
						var a = Math.floor(t * parseInt(MPD.json.time) / 1e3);
						sendMpdCmd("seek " + MPD.json.song + " " + a), "1" == SESSION.json.timecountup || 0 == parseInt(MPD.json.time) ? e("#countdown-display")
							.countdown({
								since: -a,
								compact: !0,
								format: "hMS",
								layout: "{h<}{hn}{sep}{h>}{mnn}{sep}{snn}"
							}) : e("#countdown-display")
							.countdown({
								until: a,
								compact: !0,
								format: "hMS",
								layout: "{h<}{hn}{sep}{h>}{mnn}{sep}{snn}"
							})
					}
					UI.knobPainted = !1
				}
			}), e(".volumeknob")
			.knob({
				configure: {
					fgColor: accentColor
				},
				change: function(e) {
					e = e > GLOBAL.mpdMaxVolume ? GLOBAL.mpdMaxVolume : e, setVolume(e, "knob_change")
				}
			}), e("#countdown-display, #m-countdown")
			.click((function(t) {
				"Radio station" != MPD.json.artist && ("1" == SESSION.json.timecountup ? SESSION.json.timecountup = "0" : SESSION.json.timecountup = "1", e.post("command/cfg-table.php?cmd=upd_cfg_system", {
					timecountup: SESSION.json.timecountup
				}), e.getJSON("command/playback.php?cmd=get_mpd_status", (function(t) {
					"1" == SESSION.json.timecountup || 0 == parseInt(MPD.json.time) ? updKnobStartFrom(parseInt(t.elapsed), MPD.json.state) : updKnobStartFrom(parseInt(MPD.json.time - parseInt(t.elapsed)), MPD.json.state), e("#total")
						.html(formatSongTime(MPD.json.time))
				})))
			})), e(".playqueue, .cv-playqueue")
			.on("click", ".playqueue-entry", (function(t) {
				if (GLOBAL.pqActionClicked) GLOBAL.pqActionClicked = !1;
				else {
					var a = e(this)
						.parent()
						.hasClass("playqueue") ? ".playqueue" : ".cv-playqueue",
						s = e(a + " .playqueue-entry")
						.index(this);
					sendMpdCmd("play " + s), e(this)
						.parent()
						.addClass("active")
				}
			})), e(".playqueue")
			.on("click", ".playqueue-action", (function(t) {
				if (GLOBAL.pqActionClicked = !0, UI.dbEntry[0] = e(".playqueue .playqueue-action")
					.index(this), "<i" == e("#pq-" + (UI.dbEntry[0] + 1) + " .pll2")
					.html()
					.substr(0, 2)) {
					var a = (s = e("#pq-" + (UI.dbEntry[0] + 1) + " .pll2")
							.html())
						.substr(s.indexOf("</i>") + 4);
					UI.dbEntry[5] = a.trim()
				} else {
					var s, o = e("#pq-" + (UI.dbEntry[0] + 1) + " .pll1")
						.html()
						.trim(),
						i = (s = e("#pq-" + (UI.dbEntry[0] + 1) + " .pll2")
							.text())
						.substr(0, s.indexOf("-") - 1);
					UI.dbEntry[5] = o + ", " + i
				}
			})), e("#btn-save-queue-to-playlist")
			.click((function(t) {
				var a = e("#playlist-save-name")
					.val();
				a ? ~a.indexOf("NAS") || ~a.indexOf("RADIO") || ~a.indexOf("SDCARD") ? notify("playlist_name_error") : (notify("saving_queue"), e.get("command/playlist.php?cmd=save_queue_to_playlist&name=" + a, (function() {
					notify("queue_saved"), e("#btn-pl-refresh")
						.click()
				}))) : notify("playlist_name_needed")
			})), e("#save-queue-to-playlist-modal")
			.on("shown.bs.modal", (function(t) {
				e("#playlist-save-name")
					.focus()
			})), e("#btn-set-favorites-name")
			.click((function(t) {
				var a = e("#playlist-favorites-name")
					.val();
				a ? ~a.indexOf("NAS") || ~a.indexOf("RADIO") || ~a.indexOf("SDCARD") ? notify("playlist_name_error") : (notify("setting_favorites_name"), e.get("command/playlist.php?cmd=set_favorites_name&name=" + a, (function() {
					notify("favorites_name_set")
				}))) : notify("playlist_name_needed")
			})), e("#set-favorites-playlist-modal")
			.on("shown.bs.modal", (function() {
				e("#playlist-favorites-name")
					.focus()
			})), e(".add-item-to-favorites")
			.click((function(t) {
				e(".add-item-to-favorites i")
					.addClass("pulse")
					.addClass("fas"), setTimeout((function() {
						e(".add-item-to-favorites i")
							.removeClass("pulse")
							.removeClass("fas")
					}), 3e3), null != MPD.json.file ? (notify("adding_favorite"), e.get("command/playlist.php?cmd=add_item_to_favorites&item=" + encodeURIComponent(MPD.json.file), (function() {
						notify("favorite_added")
					}))) : notify("no_favorite_to_add")
			})), e("#lib-artistname")
			.click((function(t) {
				e("#artistsList .lib-entry")
					.filter((function() {
						return e(this)
							.text() == e("#lib-artistname")
							.text()
					}))
					.click(), customScroll("artists", UI.libPos[2], 200)
			})), e("#playback-panel")
			.click((function(t) {
				e("#playback-panel")
					.hasClass("cv") && t.preventDefault()
			})), e("#currentartist")
			.click((function(t) {
				if (!e("#playback-panel")
					.hasClass("cv"))
					if ("Radio station" == MPD.json.artist) {
						var a = 0;
						e(".database-radio li")
							.each((function(t) {
								if (e(this)
									.hasClass("horiz-rule-radioview") && (a += 1), e(this)
									.children("span")
									.text() == RADIO.json[MPD.json.file].name) return UI.radioPos = t + 1, !1
							})), currentView = "playback,radio", e("#playback-switch")
							.click(), e(".radio-view-btn")
							.hasClass("active") || e(".radio-view-btn")
							.click(), e(".database-radio li")
							.removeClass("active"), setTimeout((function() {
								e("#ra-" + (UI.radioPos - a))
									.addClass("active"), UI.dbEntry[3] = "ra-" + (UI.radioPos - a), customScroll("radio", UI.radioPos, 200)
							}), DEFAULT_TIMEOUT)
					} else {
						var s = -1 != e(this)
							.text()
							.indexOf("...") ? e(this)
							.text()
							.slice(0, -3) : e(this)
							.text();
						e("#playback-switch")
							.click(), e(".tag-view-btn")
							.click(), e("#artistsList .lib-entry")
							.filter((function() {
								return e(this)
									.text() == s
							}))
							.click(), customScroll("artists", UI.libPos[2], 200)
					}
			})), e(".database")
			.on("click", ".db-browse", (function(t) {
				if (e(this)
					.hasClass("db-folder") || e(this)
					.hasClass("db-savedplaylist")) {
					UI.dbEntry[3] = e(this)
						.parent()
						.attr("id"), UI.dbPos[UI.dbPos[10]] = e(this)
						.parent()
						.attr("id")
						.replace("db-", ""), ++UI.dbPos[10];
					var a = e(this)
						.parent()
						.data("path");
					e(this)
						.hasClass("db-folder") ? e.getJSON("command/music-library.php?cmd=lsinfo", {
							path: a
						}, (function(e) {
							UI.dbCmd = "lsinfo", renderFolderView(e, a)
						})) : e.getJSON("command/playlist.php?cmd=get_pl_items_fv", {
							path: a
						}, (function(e) {
							UI.dbCmd = "get_pl_items_fv", renderFolderView(e, a)
						}))
				}
			})), e(".database")
			.on("click", ".db-action, .db-album, .db-song", (function(t) {
				e("#db-" + UI.dbPos[UI.dbPos[10]].toString())
					.removeClass("active"), UI.dbEntry[0] = e(this)
					.parent()
					.attr("data-path"), UI.dbEntry[3] = e(this)
					.parent()
					.attr("id"), e("#db-search-results")
					.css("font-weight", "normal"), e(this)
					.parent()
					.addClass("active")
			})), e("#db-back")
			.click((function(t) {
				if (e("#db-search-results")
					.hide(), e("#dbfs")
					.val(""), UI.dbPos[10] > 0) {
					--UI.dbPos[10];
					var a = UI.path,
						s = a.lastIndexOf("/");
					a = -1 != s ? a.slice(0, s) : "", e.getJSON("command/music-library.php?cmd=lsinfo", {
						path: a
					}, (function(e) {
						renderFolderView(e, a)
					})), 0 == UI.dbPos[10] && UI.dbPos.fill(0)
				}
			})), e("#db-home")
			.click((function(t) {
				e("#db-search-results")
					.hide(), e("#dbfs")
					.val(""), UI.dbPos.fill(0), UI.path = "", e.getJSON("command/music-library.php?cmd=lsinfo", {
						path: ""
					}, (function(e) {
						renderFolderView(e, "")
					}))
			})), e("#db-refresh")
			.click((function(t) {
				UI.dbPos[UI.dbPos[10]] = 0, e.getJSON("command/music-library.php?cmd=lsinfo", {
					path: UI.path
				}, (function(e) {
					renderFolderView(e, UI.path)
				}))
			})), e("#db-search-submit")
			.click((function(t) {
				var a = "";
				"" != e("#dbsearch-alltags")
					.val() ? (a = e("#dbsearch-alltags")
						.val()
						.trim(), "folder" == currentView ? e.getJSON("command/music-library.php?cmd=search&tagname=any", {
							query: a
						}, (function(e) {
							renderFolderView(e, "", a)
						})) : "tag" != currentView && "album" != currentView || (a = "(any contains '" + a + "')", applyLibFilter("tags", a))) : (a += "" == e("#dbsearch-genre")
						.val() ? "" : " AND (genre contains '" + e("#dbsearch-genre")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-artist")
						.val() ? "" : " AND (artist contains '" + e("#dbsearch-artist")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-album")
						.val() ? "" : " AND (album contains '" + e("#dbsearch-album")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-title")
						.val() ? "" : " AND (title contains '" + e("#dbsearch-title")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-albumartist")
						.val() ? "" : " AND (albumartist contains '" + e("#dbsearch-albumartist")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-date")
						.val() ? "" : " AND (date contains '" + e("#dbsearch-date")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-composer")
						.val() ? "" : " AND (composer contains '" + e("#dbsearch-composer")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-conductor")
						.val() ? "" : " AND (conductor contains '" + e("#dbsearch-conductor")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-performer")
						.val() ? "" : " AND (performer contains '" + e("#dbsearch-performer")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-work")
						.val() ? "" : " AND (work contains '" + e("#dbsearch-work")
						.val()
						.trim() + "')", a += "" == e("#dbsearch-comment")
						.val() ? "" : " AND (comment contains '" + e("#dbsearch-comment")
						.val()
						.trim() + "')", "" != (a += "" == e("#dbsearch-file")
							.val() ? "" : " AND (file contains '" + e("#dbsearch-file")
							.val()
							.trim() + "')") && (a = a.slice(5), "folder" == currentView ? e.getJSON("command/music-library.php?cmd=search&tagname=specific", {
							query: a
						}, (function(e) {
							renderFolderView(e, "", a)
						})) : "tag" != currentView && "album" != currentView || applyLibFilter("tags", a)))
			})), e("#db-search-reset")
			.click((function(t) {
				e("#dbsearch-alltags, #dbsearch-genre, #dbsearch-artist, #dbsearch-album, #dbsearch-title, #dbsearch-albumartist, #dbsearch-date, #dbsearch-composer, #dbsearch-conductor, #dbsearch-performer, #dbsearch-comment, #dbsearch-file")
					.val(""), e("#dbsearch-alltags")
					.focus()
			})), e("#dbsearch-modal")
			.on("shown.bs.modal", (function(t) {
				e("#db-search-results")
					.css("font-weight", "normal"), e(".database li")
					.removeClass("active"), e("#dbsearch-alltags")
					.focus()
			})), e("#db-search-results")
			.click((function(t) {
				e(".database li")
					.removeClass("active"), e("#db-search-results")
					.css("font-weight", "bold"), dbFilterResults = [], e(".database li")
					.each((function() {
						e(this)
							.children("div")
							.hasClass("db-song") && dbFilterResults.push(e(this)
								.attr("data-path"))
					}))
			})), e("#context-menu-db-search-results a")
			.click((function(t) {
				e("#db-search-results")
					.css("font-weight", "normal"), "add_group" == e(this)
					.data("cmd") && (sendQueueCmd("add_group", dbFilterResults), notify(e(this)
						.data("cmd"))), "play_group" == e(this)
					.data("cmd") && (sendQueueCmd("play_group", dbFilterResults), notify(e(this)
						.data("cmd"))), "clear_play_group" == e(this)
					.data("cmd") && (sendQueueCmd("clear_play_group", dbFilterResults), notify(e(this)
						.data("cmd")))
			})), e("#btn-ra-refresh")
			.click((function(t) {
				renderRadioView(), lazyLode("radio"), e("#database-radio")
					.scrollTo(0, 200), UI.radioPos = -1, storeRadioPos(UI.radioPos), e("#btn-ra-search-reset")
					.hide(), showSearchResetRa = !1
			})), e("#btn-ra-new")
			.click((function(t) {
				e("#new-station-name")
					.val("New station"), e("#new-station-url")
					.val("http://"), e("#new-logoimage")
					.val(""), e("#preview-new-logoimage")
					.html(""), e("#info-toggle-new-logoimage")
					.css("margin-left", "unset"), e("#new-station-tags")
					.css("margin-top", "0"), e("#new-station-type span")
					.text("Regular"), e("#new-station-genre")
					.val(""), e("#new-station-broadcaster")
					.val(""), e("#new-station-home-page")
					.val(""), e("#new-station-language")
					.val(""), e("#new-station-country")
					.val(""), e("#new-station-region")
					.val(""), e("#new-station-bitrate")
					.val(""), e("#new-station-format")
					.val(""), e("#new-station-geo-fenced span")
					.text("No"), e("#new-station-modal")
					.modal()
			})), e("#new-station-modal")
			.on("shown.bs.modal", (function() {
				e("#new-station-name")
					.focus()
			})), e("#ra-filter")
			.keyup((function(t) {
				showSearchResetRa || (e("#btn-ra-search-reset")
					.show(), showSearchResetRa = !0), clearTimeout(searchTimer);
				var a = this;
				searchTimer = setTimeout((function() {
					var t = e(a)
						.val()
						.trim();
					"" == t && (e("#btn-ra-search-reset")
							.hide(), showSearchResetRa = !1), e(".database-radio li")
						.each((function() {
							e(this)
								.text()
								.search(new RegExp(t, "i")) < 0 ? e(this)
								.hide() : (e(this)
									.show())
						}));
					lazyLode("radio"), e("#database-radio")
						.scrollTo(0, 200)
				}), SEARCH_TIMEOUT)
			})), e("#btn-ra-search-reset")
			.click((function(t) {
				e(".database-radio li")
					.css("display", "inline-block"), e("#btn-ra-search-reset")
					.hide(), showSearchResetRa = !1
			})), e(".database-radio")
			.on("click", ".cover-menu", (function(t) {
				var a = e(this)
					.parents("li")
					.index(),
					s = e(this)
					.parents("li")
					.data("path");
				UI.dbEntry[0] = s, UI.radioPos = a, storeRadioPos(UI.radioPos), e("#" + UI.dbEntry[3])
					.removeClass("active"), UI.dbEntry[3] = e(this)
					.parents("li")
					.attr("id"), e(this)
					.parents("li")
					.addClass("active")
			})), e("#btn-create-station")
			.click((function(t) {
				if ("" == e("#new-station-name")
					.val()
					.trim() || "" == e("#new-station-url")
					.val()
					.trim()) notify("blank_entries", "Station not created", "10_seconds");
				else {
					var a = {
						name: e("#new-station-name")
							.val()
							.trim(),
						url: e("#new-station-url")
							.val()
							.trim(),
						type: getParamOrValue("value", e("#new-station-type span")
							.text()),
						logo: "local",
						genre: e("#new-station-genre")
							.val()
							.trim(),
						broadcaster: e("#new-station-broadcaster")
							.val()
							.trim(),
						language: e("#new-station-language")
							.val()
							.trim(),
						country: e("#new-station-country")
							.val()
							.trim(),
						region: e("#new-station-region")
							.val()
							.trim(),
						bitrate: e("#new-station-bitrate")
							.val()
							.trim(),
						format: e("#new-station-format")
							.val()
							.trim(),
						geo_fenced: e("#new-station-geo-fenced span")
							.text(),
						home_page: e("#new-station-home-page")
							.val()
							.trim(),
						reserved2: "NULL"
					};
					notify("creating_station"), e.post("command/radio.php?cmd=new_station", {
						path: a
					}, (function(t) {
						"OK" == t ? (RADIO.json[a.url] = {
								name: a.name,
								type: a.type,
								logo: a.logo
							}, notify("new_station")) : notify("validation_check", t, "10_seconds"), e("#btn-ra-refresh")
							.click()
					}), "json")
				}
			})), e("#btn-update-station")
			.click((function(t) {
				if ("" == e("#edit-station-name")
					.val()
					.trim() || "" == e("#edit-station-url")
					.val()
					.trim()) notify("blank_entries", "Station not updated", "10_seconds");
				else {
					var a = {
						id: GLOBAL.editStationId,
						name: e("#edit-station-name")
							.val()
							.trim(),
						url: e("#edit-station-url")
							.val()
							.trim(),
						type: getParamOrValue("value", e("#edit-station-type span")
							.text()),
						logo: "local",
						genre: e("#edit-station-genre")
							.val()
							.trim(),
						broadcaster: e("#edit-station-broadcaster")
							.val()
							.trim(),
						language: e("#edit-station-language")
							.val()
							.trim(),
						country: e("#edit-station-country")
							.val()
							.trim(),
						region: e("#edit-station-region")
							.val()
							.trim(),
						bitrate: e("#edit-station-bitrate")
							.val()
							.trim(),
						format: e("#edit-station-format")
							.val()
							.trim(),
						geo_fenced: e("#edit-station-geo-fenced span")
							.text(),
						home_page: e("#edit-station-home-page")
							.val()
							.trim(),
						reserved2: "NULL"
					};
					notify("updating_station"), e.post("command/radio.php?cmd=upd_station", {
						path: a
					}, (function(t) {
						"OK" == t ? (RADIO.json[a.url] = {
								name: a.name,
								type: a.type,
								logo: a.logo
							}, notify("upd_station")) : notify("validation_check", t, "10_seconds"), e("#btn-ra-refresh")
							.click()
					}), "json")
				}
			})), e("#btn-del-station")
			.click((function(t) {
				var a = UI.dbEntry[0].slice(0, UI.dbEntry[0].lastIndexOf("."))
					.substr(6);
				deleteRadioStationObject(a), e.post("command/radio.php?cmd=del_station", {
					path: UI.dbEntry[0]
				}, (function() {
					notify("del_station"), e("#btn-ra-refresh")
						.click()
				}))
			})), e("#btn-pl-refresh")
			.click((function(t) {
				renderPlaylistView(), lazyLode("playlist"), e("#database-playlist")
					.scrollTo(0, 200), UI.playlsitPos = -1, storePlaylistPos(UI.playlistPos), e("#btn-pl-search-reset")
					.hide(), showSearchResetPl = !1
			})), e("#btn-pl-new")
			.click((function(t) {
				e("#new-playlist-name")
					.val("New playlist"), e("#new-plcoverimage")
					.val(""), e("#preview-new-plcoverimage")
					.html(""), e("#info-toggle-new-plcoverimage")
					.css("margin-left", "unset"), e("#new-playlist-tags")
					.css("margin-top", "2.5em"), e("#new-playlist-genre")
					.val(""), e("#new-playlist-modal")
					.modal()
			})), e("#new-playlist-modal")
			.on("shown.bs.modal", (function() {
				e("#new-playlist-name")
					.focus()
			})), e("#pl-filter")
			.keyup((function(t) {
				showSearchResetPl || (e("#btn-pl-search-reset")
					.show(), showSearchResetPl = !0), clearTimeout(searchTimer);
				var a = this;
				searchTimer = setTimeout((function() {
					var t = e(a)
						.val()
						.trim();
					"" == t && (e("#btn-pl-search-reset")
							.hide(), showSearchResetPl = !1), e(".database-playlist li")
						.each((function() {
							e(this)
								.text()
								.search(new RegExp(t, "i")) < 0 ? e(this)
								.hide() : (e(this)
									.show())
						}));
					lazyLode("playlist"), e("#database-playlist")
						.scrollTo(0, 200)
				}), SEARCH_TIMEOUT)
			})), e("#btn-pl-search-reset")
			.click((function(t) {
				e(".database-playlist li")
					.css("display", "inline-block"), e("#btn-pl-search-reset")
					.hide(), showSearchResetPl = !1
			})), e(".database-playlist")
			.on("click", ".cover-menu", (function(t) {
				var a = e(this)
					.parents("li")
					.index(),
					s = e(this)
					.parents("li")
					.data("path");
				UI.dbEntry[0] = s, UI.playlistPos = a, storePlaylistPos(UI.playlistPos), e("#" + UI.dbEntry[3])
					.removeClass("active"), UI.dbEntry[3] = e(this)
					.parents("li")
					.attr("id"), e(this)
					.parents("li")
					.addClass("active")
			})), e("#btn-create-playlist")
			.click((function(t) {
				if ("" == e("#new-playlist-name")
					.val()
					.trim()) notify("blank_entries", "Playlist not created");
				else {
					var a = {
						name: e("#new-playlist-name")
							.val()
							.trim(),
						genre: e("#new-playlist-genre")
							.val()
							.trim()
					};
					notify("creating_playlist"), e.post("command/playlist.php?cmd=new_playlist", {
						path: a
					}, (function() {
						notify("new_playlist"), e("#btn-pl-refresh")
							.click()
					}), "json")
				}
			})), e("#btn-update-playlist")
			.click((function(t) {
				if ("" == e("#edit-playlist-name")
					.val()
					.trim()) notify("blank_entries", "Playlist not updated");
				else {
					var a = [];
					e("#playlist-items li")
						.each((function() {
							a.push(e(this)
								.data("path"))
						}));
					var s = {
						name: e("#edit-playlist-name")
							.val()
							.trim(),
						genre: e("#edit-playlist-genre")
							.val()
							.trim(),
						items: a
					};
					notify("updating_playlist"), e.post("command/playlist.php?cmd=upd_playlist", {
						path: s
					}, (function() {
						notify("upd_playlist"), e("#btn-pl-refresh")
							.click()
					}), "json")
				}
			})), e("#btn-del-playlist")
			.click((function(t) {
				e.post("command/playlist.php?cmd=del_playlist", {
					path: UI.dbEntry[0]
				}, (function() {
					notify("del_playlist"), e("#btn-pl-refresh")
						.click()
				}))
			})), e("#btn-delete-plitem, #btn-move-plitem")
			.click((function(t) {
				if (e("#pl-item-" + (UI.dbEntry[0] + 1))
					.removeClass("active"), "btn-delete-plitem" == e(this)
					.attr("id")) var a = e("#delete-playlist-item-begpos")
					.val() - 1,
					s = e("#delete-playlist-item-endpos")
					.val() - 1;
				else {
					a = e("#move-playlist-item-begpos")
						.val() - 1, s = e("#move-playlist-item-endpos")
						.val() - 1;
					var o = e("#move-playlist-item-newpos")
						.val() - 1
				}
				var i = s - a + 1,
					n = [];
				(e("#playlist-items li")
					.each((function() {
						n.push(e(this)
							.prop("outerHTML"))
					})), "btn-delete-plitem" == e(this)
					.attr("id")) ? n.splice(a, i): n.splice.apply(n, [o, 0].concat(n.splice(a, i)));
				var l = document.getElementById("playlist-items");
				l.innerHTML = "";
				var r = "";
				for (c = 0; c < n.length; c++) r += n[c];
				l.innerHTML = r, UI.dbEntry[4] = n.length;
				var c = 1;
				e("#playlist-items li")
					.each((function() {
						e(this)
							.attr("id", "pl-item-" + c.toString()), c++
					})), e("#delete-playlist-item, #move-playlist-item")
					.hide(), e("#playlist-items")
					.css("margin-top", "0")
			})), e("#playqueue-filter")
			.keyup((function(t) {
				showSearchResetPq || (e("#searchResetPlayqueue")
					.show(), showSearchResetPq = !0), clearTimeout(searchTimer);
				var a = this;
				searchTimer = setTimeout((function() {
					var t = e(a)
						.val()
						.trim();
					"" == t && (e("#searchResetPlayqueue")
							.hide(), showSearchResetPq = !1), e(".playqueue li")
						.each((function() {
							e(this)
								.text()
								.search(new RegExp(t, "i")) < 0 ? e(this)
								.hide() : (e(this)
									.show())
						}));
					e("#container-playqueue")
						.scrollTo(0, 200)
				}), SEARCH_TIMEOUT)
			})), e("#searchResetPlayqueue")
			.click((function(t) {
				e("#searchResetPlayqueue")
					.hide(), showSearchResetPq = !1, e(".playqueue li")
					.css("display", "block")
			})), e("#lib-album-filter")
			.on("keydown keyup", (function(t) {
				if ("keyup" == t.type && t.preventDefault(), e("#lib-album-filter")
					.val()
					.length > 0 ? e("#searchResetLib")
					.show() : e("#searchResetLib")
					.hide(), "Enter" == t.key && e("#lib-album-filter")
					.val()
					.length > 0) {
					e("#lib-album-filter")
						.blur();
					var a = e(this)
						.val()
						.trim()
						.toLowerCase(),
						s = splitStringAtFirstSpace(a);
					1 == s.length && (s[1] = ""), GLOBAL.allFilters.includes(s[0]) ? GLOBAL.twoArgFilters.includes(s[0]) ? applyLibFilter(s[0], s[1]) : applyLibFilter(s[0]) : applyLibFilter("any", s[0] + (s[1] ? " " + s[1] : "")), e("#viewswitch")
						.click()
				}
			})), e("#searchResetLib")
			.click((function(t) {
				return t.preventDefault(), document.getElementById("lib-album-filter")
					.focus(), e("#lib-album-filter")
					.val(""), e("#searchResetLib")
					.hide(), !1
			})), e("#ph-filter")
			.keyup((function(t) {
				showSearchResetPh || (e("#search-reset-ph")
					.show(), showSearchResetPh = !0), clearTimeout(searchTimer);
				var a = this;
				searchTimer = setTimeout((function() {
					var t = e(a)
						.val()
						.trim(),
						s = 0;
					e(".playhistory li")
						.each((function() {
							e(this)
								.text()
								.search(new RegExp(t, "i")) < 0 ? e(this)
								.hide() : (e(this)
									.show(), s++)
						}));
					var o = 1 == s ? "" : "s";
					"" != t ? (e("#ph-filter-results")
							.html(+s + "&nbsp;item" + o), e("#ph-filter-results")
							.show()) : e("#ph-filter-results")
						.hide(), e("#container-playhistory")
						.scrollTo(0, 200)
				}), SEARCH_TIMEOUT)
			})), e("#search-reset-ph")
			.click((function(t) {
				e("#search-reset-ph")
					.hide(), showSearchResetPh = !1, e(".playhistory li")
					.css("display", "list-item"), e("#ph-filter-results")
					.hide(), e("#ph-filter")
					.val("")
			})), e(".btn-delete-playqueue-item")
			.click((function(t) {
				var a = e("#delete-playqueue-item-begpos")
					.val() - 1,
					s = e("#delete-playqueue-item-endpos")
					.val() - 1;
				if (a == s) var o = "delete_playqueue_item&range=" + a;
				else o = "delete_playqueue_item&range=" + a + ":" + (s + 1);
				e.post("command/queue.php?cmd=" + o), notify("queue_item_removed")
			})), e("#btn-delete-setpos-top")
			.click((function(t) {
				return e("#delete-playqueue-item-begpos")
					.val(1), !1
			})), e("#btn-delete-setpos-bot")
			.click((function(t) {
				return e("#delete-playqueue-item-endpos")
					.val(UI.dbEntry[4]), !1
			})), e(".btn-move-playqueue-item")
			.click((function(t) {
				var a = e("#move-playqueue-item-begpos")
					.val() - 1,
					s = e("#move-playqueue-item-endpos")
					.val() - 1,
					o = e("#move-playqueue-item-newpos")
					.val() - 1;
				if (a == s) var i = "move_playqueue_item&range=" + a + "&newpos=" + o;
				else i = "move_playqueue_item&range=" + a + ":" + (s + 1) + "&newpos=" + o;
				e.post("command/queue.php?cmd=" + i), notify("queue_item_moved")
			})), e("#btn-move-setpos-top")
			.click((function(t) {
				return e("#move-playqueue-item-begpos")
					.val(1), !1
			})), e("#btn-move-setpos-bot")
			.click((function(t) {
				return e("#move-playqueue-item-endpos")
					.val(UI.dbEntry[4]), !1
			})), e("#btn-move-setnewpos-top")
			.click((function(t) {
				return e("#move-playqueue-item-newpos")
					.val(1), !1
			})), e("#btn-move-setnewpos-bot")
			.click((function(t) {
				return e("#move-playqueue-item-newpos")
					.val(UI.dbEntry[4]), !1
			})), e("#ph-first-page")
			.click((function(t) {
				e("#container-playhistory")
					.scrollTo(0, 200)
			})), e("#ph-last-page")
			.click((function(t) {
				e("#container-playhistory")
					.scrollTo("100%", 200)
			})), e(".coverview")
			.on("click", (function(e) {
				e.stopImmediatePropagation(), screenSaver("1")
			})), e("#cv-playqueue-btn")
			.on("click", (function(t) {
				e("#cv-playqueue")
					.toggle(), "block" == e("#cv-playqueue")
					.css("display") ? (e("#cv-playqueue ul")
						.html(e("#playqueue ul")
							.html()), "Yes" == SESSION.json.playlist_art && lazyLode("cv-playqueue"), customScroll("cv-playqueue", parseInt(MPD.json.song)), GLOBAL.playbarPlaylistTimer = setTimeout((function() {
							e("#cv-playqueue ul")
								.html(""), e("#cv-playqueue")
								.hide()
						}), 2e4)) : (t.preventDefault(), e("#cv-playqueue ul")
						.html(""), window.clearTimeout(GLOBAL.playbarPlaylistTimer))
			})), e(document)
			.on("click", ".disconnect-renderer", (function(t) {
				notify("renderer_disconnect", "", "3_seconds"), e.post("command/renderer.php?cmd=disconnect-renderer", {
					job: e(this)
						.data("job")
				})
			})), e(document)
			.on("click", ".turnoff-renderer", (function(t) {
				notify("renderer_turnoff", "", "3_seconds"), e.post("command/renderer.php?cmd=disconnect-renderer", {
					job: e(this)
						.data("job")
				})
			})), e("#playback-firstuse-help")
			.click((function(t) {
				e("#playback-firstuse-help")
					.css("display", ""), SESSION.json.first_use_help = "n," + SESSION.json.first_use_help.split(",")[1], e.post("command/cfg-table.php?cmd=upd_cfg_system", {
						first_use_help: SESSION.json.first_use_help
					})
			})), e("#playbar-firstuse-help")
			.click((function(t) {
				e("#playbar-firstuse-help")
					.css("display", ""), SESSION.json.first_use_help = SESSION.json.first_use_help.split(",")[0] + ",n", e.post("command/cfg-table.php?cmd=upd_cfg_system", {
						first_use_help: SESSION.json.first_use_help
					})
			})), e("#extra-tags-display")
			.click((function(t) {
				if ("" != e("#currentsong")
					.html()) {
					var a = "Radio station" == MPD.json.artist ? "station_info" : "track_info";
					audioInfo(a, MPD.json.file)
				}
			})), e(document)
			.on("click", "#audioinfo-track", (function(t) {
				e("#audioinfo-modal")
					.removeClass("playback")
					.addClass("track")
			})), e(document)
			.on("click", "#audioinfo-playback", (function(t) {
				e("#audioinfo-modal")
					.removeClass("track")
					.addClass("playback")
			})), e("#screen-saver, #playback-panel, #library-panel, #folder-panel, #radio-panel, #playlist-panel, #panel-footer")
			.click((function(t) {
				"panel-footer" != e(this)
					.attr("id") && (coverView && (e("body")
						.removeClass("cv"), "Yes" == SESSION.json.show_cvpb && e("body")
						.removeClass("cvpb"), coverView = !1, setColors(), ("Digital clock" == SESSION.json.scnsaver_mode || SESSION.json.scnsaver_mode.includes("Analog clock")) && hideSSClock(), e("#cv-playqueue ul")
						.html(""), e("#cv-playqueue")
						.hide(), e("#lib-coverart-img")
						.show(), UI.mobile ? e("#playback-queue")
						.css("width", "99.9%") : e("#playback-queue")
						.css("width", "38.1%"), setTimeout((function() {
							e("#playback-queue")
								.css("width", "")
						}), DEFAULT_TIMEOUT), "Yes" == SESSION.json.playlist_art && lazyLode("playqueue"), customScroll("playqueue", parseInt(MPD.json.song))), "Never" != SESSION.json.scnsaver_timeout && e.post("command/playback.php?cmd=reset_screen_saver"))
			})), e("#players-menu-item")
			.click((function(e) {
				notify("discovering_players", "", "5_seconds")
			})), e(document)
			.on("click", ".multiroom-modal-onoff", (function(t) {
				var a = e(this)
					.data("item"),
					s = !0 === e("#multiroom-rx-" + a + "-onoff")
					.prop("checked") ? "On" : "Off";
				e.post("command/multiroom.php?cmd=set_rx_status", {
					onoff: s,
					item: a
				}, (function(e) {}), "json")
			})), e(document)
			.on("click", ".multiroom-modal-vol", (function(t) {
				var a = e(this)
					.data("item"),
					s = e("#multiroom-rx-" + a + "-vol")
					.text();
				e.post("command/multiroom.php?cmd=set_rx_status", {
						volume: s,
						item: a
					}, (function(e) {}), "json"), e("#multiroom-rx-" + a + "-vol")
					.html("<div class='busy-spinner-btn'>" + GLOBAL.busySpinnerSVG + "</div>"), setTimeout((function() {
						e("#multiroom-rx-" + a + "-vol")
							.text(s)
					}), 1e3)
			})), e(document)
			.on("click", ".multiroom-modal-mute", (function(t) {
				var a = e(this)
					.data("item"),
					s = e("#multiroom-rx-" + a + "-mute i")
					.hasClass("fa-volume-up") ? "fa-volume-mute" : "fa-volume-up",
					o = "fa-volume-mute" == s ? "Muted" : "Unmuted";
				e("#multiroom-rx-" + a + "-mute")
					.html('<i class="fas ' + s + '"></i>'), e.post("command/multiroom.php?cmd=set_rx_status", {
						mute: o,
						item: a
					}, (function(e) {}), "json")
			})), e(".info-toggle")
			.click((function(t) {
				var a = "#" + e(this)
					.data("cmd");
				e(a)
					.hasClass("hide") ? e(a)
					.removeClass("hide") : e(a)
					.addClass("hide")
			}))
	}));


//# sourceMappingURL=../maps/js/main.min.js.map